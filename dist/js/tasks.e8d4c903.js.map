{"version":3,"sources":["webpack:///./src/views/Tasks.vue?b76b","webpack:///./src/components/ListPageTop.vue?bfdd","webpack:///src/components/ListPageTop.vue","webpack:///./src/components/ListPageTop.vue?3555","webpack:///./src/components/ListPageTop.vue","webpack:///./src/components/TooltipButton.vue?3531","webpack:///src/components/TooltipButton.vue","webpack:///./src/components/TooltipButton.vue?97f3","webpack:///./src/components/TooltipButton.vue","webpack:///./src/views/Tasks.vue?6547","webpack:///src/views/Tasks.vue","webpack:///./src/views/Tasks.vue?2e29","webpack:///./src/views/Tasks.vue?78d7"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","breads","_t","on","$event","$emit","_v","_s","deleteText","_e","refreshLoading","refreshText","createText","staticRenderFns","name","props","type","String","default","showDelete","Boolean","showRefresh","showCreate","Array","component","VBreadcrumbs","VBtn","VIcon","VSpacer","scopedSlots","_u","key","fn","ref","_g","flat","color","to","xSmall","style","padLeft","icon","text","required","Number","Object","VTooltip","handleSearch","model","value","callback","$$v","search","expression","selectedAllAgents","_l","agent","session_id","handleFilterChange","selectedAgents","selectedAllUsers","user","id","username","selectedUsers","totalPages","handlePageChange","currentPage","headers","tasks","sortBy","sortDesc","totalItems","itemsPerPage","loading","handleOptionsChange","item","length","expandedInput","toggleSeeFullInput","expandedTasks","full_input","input","downloads","some","d","filename","match","getImagesForTask","download","imageData","output","status","truncateMessage","moment","updated_at","fromNow","format","_b","downloadInput","hasOutput","downloadOutput","copyInput","copyOutput","downloadFile","components","ListPageTop","TooltipButton","data","refreshInterval","computed","set","val","agents","map","debouncedGetTasks","get","users","methods","task","isDownload","downloadText","navigator","clipboard","writeText","expandedDownloads","found","image","page","VCard","VCheckbox","VDataTable","VDivider","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VImg","VList","VListItem","VListItemTitle","VMenu","VPagination","VTextField"],"mappings":"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","file":"js/tasks.e8d4c903.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('portal',{attrs:{\"to\":\"app-bar\"}},[_c('div',{staticClass:\"v-toolbar__content\",staticStyle:{\"width\":\"100%\"}},[_c('v-breadcrumbs',{attrs:{\"items\":_vm.breads}}),_c('v-spacer'),_vm._t(\"extra-stuff\"),_c('div',[(_vm.showDelete)?_c('v-btn',{staticClass:\"mr-2\",attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('delete')}}},[_vm._v(\" \"+_vm._s(_vm.deleteText)+\" \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" fa-trash-alt \")])],1):_vm._e(),(_vm.showRefresh)?_c('v-btn',{staticClass:\"mr-2\",attrs:{\"disabled\":_vm.refreshLoading,\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('refresh')}}},[_vm._v(\" \"+_vm._s(_vm.refreshText)+\" \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" fa-redo \"+_vm._s(_vm.refreshLoading ? 'fa-spin' : '')+\" \")])],1):_vm._e(),(_vm.showCreate)?_c('v-btn',{staticClass:\"mr-2\",attrs:{\"color\":\"primary\",\"rounded\":\"\"},on:{\"click\":function($event){return _vm.$emit('create')}}},[_vm._v(\" \"+_vm._s(_vm.createText)+\" \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" fa-plus-square \")])],1):_vm._e()],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <portal to=\"app-bar\">\n    <div\n      class=\"v-toolbar__content\"\n      style=\"width:100%\"\n    >\n      <v-breadcrumbs :items=\"breads\" />\n      <v-spacer />\n      <slot name=\"extra-stuff\" />\n      <div>\n        <v-btn\n          v-if=\"showDelete\"\n          color=\"error\"\n          text\n          class=\"mr-2\"\n          @click=\"$emit('delete')\"\n        >\n          {{ deleteText }}\n          <v-icon\n            right\n          >\n            fa-trash-alt\n          </v-icon>\n        </v-btn>\n        <v-btn\n          v-if=\"showRefresh\"\n          :disabled=\"refreshLoading\"\n          color=\"primary\"\n          text\n          class=\"mr-2\"\n          @click=\"$emit('refresh')\"\n        >\n          {{ refreshText }}\n          <v-icon\n            right\n          >\n            fa-redo {{ refreshLoading ? 'fa-spin' : '' }}\n          </v-icon>\n        </v-btn>\n        <v-btn\n          v-if=\"showCreate\"\n          color=\"primary\"\n          class=\"mr-2\"\n          rounded\n          @click=\"$emit('create')\"\n        >\n          {{ createText }}\n          <v-icon\n            right\n          >\n            fa-plus-square\n          </v-icon>\n        </v-btn>\n      </div>\n    </div>\n  </portal>\n</template>\n\n<script>\nexport default {\n  name: 'ListPageTop',\n  props: {\n    deleteText: {\n      type: String,\n      default: 'Delete',\n    },\n    refreshText: {\n      type: String,\n      default: 'Refresh',\n    },\n    createText: {\n      type: String,\n      default: 'Create',\n    },\n    showDelete: {\n      type: Boolean,\n      default: false,\n    },\n    showRefresh: {\n      type: Boolean,\n      default: false,\n    },\n    showCreate: {\n      type: Boolean,\n      default: false,\n    },\n    refreshLoading: {\n      type: Boolean,\n      default: false,\n    },\n    breads: {\n      type: Array,\n      default: () => [],\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListPageTop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListPageTop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListPageTop.vue?vue&type=template&id=6fc191b8&\"\nimport script from \"./ListPageTop.vue?vue&type=script&lang=js&\"\nexport * from \"./ListPageTop.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBreadcrumbs } from 'vuetify/lib/components/VBreadcrumbs';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBreadcrumbs,VBtn,VIcon,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mr-5\",attrs:{\"color\":_vm.flat ? '' : _vm.color,\"to\":_vm.to,\"icon\":\"\",\"small\":!_vm.xSmall,\"x-small\":_vm.xSmall},on:{\"click\":function($event){return _vm.$emit('click')}}},on),[_c('v-icon',{style:(_vm.padLeft !== 0 ? (\"padding-left: \" + _vm.padLeft + \"px\") : '')},[_vm._v(\" \"+_vm._s(_vm.icon)+\" \")])],1)]}}])},[_c('span',[_vm._v(_vm._s(_vm.text))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-tooltip\n    bottom\n  >\n    <template #activator=\"{ on }\">\n      <v-btn\n        :color=\"flat ? '' : color\"\n        :to=\"to\"\n        class=\"mr-5\"\n        icon\n        :small=\"!xSmall\"\n        :x-small=\"xSmall\"\n        v-on=\"on\"\n        @click=\"$emit('click')\"\n      >\n        <v-icon\n          :style=\"padLeft !== 0 ? `padding-left: ${padLeft}px` : ''\"\n        >\n          {{ icon }}\n        </v-icon>\n      </v-btn>\n    </template>\n    <span>{{ text }}</span>\n  </v-tooltip>\n</template>\n\n<script>\nexport default {\n  name: 'TooltipButton',\n  props: {\n    icon: {\n      type: String,\n      required: true,\n    },\n    text: {\n      type: String,\n      required: true,\n    },\n    padLeft: {\n      type: Number,\n      default: 0,\n    },\n    color: {\n      type: String,\n      default: '',\n    },\n    flat: {\n      type: Boolean,\n      default: false,\n    },\n    to: {\n      type: Object,\n      default: null,\n    },\n    xSmall: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TooltipButton.vue?vue&type=template&id=520759d0&\"\nimport script from \"./TooltipButton.vue?vue&type=script&lang=js&\"\nexport * from \"./TooltipButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VIcon,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('list-page-top',{attrs:{\"breads\":_vm.breads}}),_c('div',{staticStyle:{\"display\":\"flex\",\"flix-direction\":\"row\"}},[_c('v-card',{staticClass:\"mr-2 pa-2\",staticStyle:{\"width\":\"300px\"}},[_c('v-expansion-panels',{staticClass:\"mb-6\",attrs:{\"multiple\":\"\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',{attrs:{\"expand-icon\":\"mdi-menu-down\"}},[_vm._v(\" Search \")]),_c('v-expansion-panel-content',[_c('v-text-field',{attrs:{\"label\":\"Search\",\"outlined\":\"\",\"dense\":\"\",\"required\":\"\"},on:{\"input\":_vm.handleSearch},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',{attrs:{\"expand-icon\":\"mdi-menu-down\"}},[_vm._v(\" Agents \")]),_c('v-expansion-panel-content',[_c('v-checkbox',{attrs:{\"x-small\":\"\",\"dense\":\"\",\"label\":\"Select All\"},model:{value:(_vm.selectedAllAgents),callback:function ($$v) {_vm.selectedAllAgents=$$v},expression:\"selectedAllAgents\"}}),_c('v-divider',{staticClass:\"pb-4\"}),_vm._l((_vm.agents),function(agent){return _c('v-checkbox',{key:agent.session_id,attrs:{\"value\":agent.session_id,\"x-small\":\"\",\"dense\":\"\",\"label\":agent.name},on:{\"change\":_vm.handleFilterChange},model:{value:(_vm.selectedAgents),callback:function ($$v) {_vm.selectedAgents=$$v},expression:\"selectedAgents\"}})})],2)],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',{attrs:{\"expand-icon\":\"mdi-menu-down\"}},[_vm._v(\" Users \")]),_c('v-expansion-panel-content',[_c('v-checkbox',{attrs:{\"x-small\":\"\",\"dense\":\"\",\"label\":\"Select All\"},model:{value:(_vm.selectedAllUsers),callback:function ($$v) {_vm.selectedAllUsers=$$v},expression:\"selectedAllUsers\"}}),_c('v-divider',{staticClass:\"pb-4\"}),_vm._l((_vm.users),function(user){return _c('v-checkbox',{key:user.id,attrs:{\"value\":user.id,\"x-small\":\"\",\"dense\":\"\",\"label\":user.username},on:{\"change\":_vm.handleFilterChange},model:{value:(_vm.selectedUsers),callback:function ($$v) {_vm.selectedUsers=$$v},expression:\"selectedUsers\"}})})],2)],1)],1)],1),_c('v-card',{staticStyle:{\"flex-grow\":\"1\"}},[_c('v-pagination',{attrs:{\"length\":_vm.totalPages,\"total-visible\":10},on:{\"input\":_vm.handlePageChange},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.tasks,\"item-key\":\"uniqueId\",\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"server-items-length\":_vm.totalItems,\"footer-props\":{'items-per-page-options': [10, 25, 50, 100]},\"items-per-page\":_vm.itemsPerPage,\"loading\":_vm.loading,\"page\":_vm.currentPage,\"show-expand\":\"\"},on:{\"update:itemsPerPage\":function($event){_vm.itemsPerPage=$event},\"update:items-per-page\":function($event){_vm.itemsPerPage=$event},\"update:options\":_vm.handleOptionsChange},scopedSlots:_vm._u([{key:\"expanded-item\",fn:function(ref){\nvar headers = ref.headers;\nvar item = ref.item;\nreturn [_c('td',{attrs:{\"colspan\":headers.length}},[_c('div',[_c('div',{staticClass:\"pt-2\"},[_c('tooltip-button',{attrs:{\"icon\":item.expandedInput ? 'fa-minus' : 'fa-plus',\"text\":\"See Full Input\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.toggleSeeFullInput(item)}}})],1),_c('p',[_c('b',[_vm._v(\"Task Input:\")])]),_c('p',{staticClass:\"mono\",staticStyle:{\"max-width\":\"900px\"}},[_vm._v(\" \"+_vm._s(item.expandedInput ? _vm.expandedTasks[item.id].full_input : item.input)+\" \")]),_c('p',[_c('b',[_vm._v(\"Task Output:\")])]),(item.downloads.length > 0\n                  && item.downloads.some(function (d) { return d.filename.match(/[^/]+(jpg|jpeg|png|gif)$/); }))?_c('div',[_c('v-btn',{attrs:{\"text\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.getImagesForTask(item)}}},[_vm._v(\" View Images \")]),_c('div',_vm._l((item.downloads),function(download){return _c('v-img',{key:download.id,attrs:{\"src\":_vm.imageData(item, download),\"alt\":download.filename,\"max-width\":700,\"contain\":\"\"}})}),1)],1):_vm._e(),_c('p',{staticClass:\"mono\",staticStyle:{\"max-width\":\"900px\"}},[_vm._v(\" \"+_vm._s(item.output)+\" \")])])])]}},{key:\"item.status\",fn:function(ref){\n                  var item = ref.item;\nreturn [(item.status === 'pulled')?_c('v-icon',{attrs:{\"color\":\"green\",\"small\":\"\"}},[_vm._v(\" fa-check-square \")]):(item.status === 'queued')?_c('v-icon',{attrs:{\"color\":\"orange\",\"small\":\"\"}},[_vm._v(\" fa-clock \")]):_vm._e()]}},{key:\"item.input\",fn:function(ref){\n                  var item = ref.item;\nreturn [_c('span',[_vm._v(_vm._s(_vm.truncateMessage(item.input)))])]}},{key:\"item.updated_at\",fn:function(ref){\n                  var item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                  var on = ref.on;\nreturn [_c('span',_vm._g({},on),[_vm._v(_vm._s(_vm.moment(item.updated_at).fromNow()))])]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.moment(item.updated_at).format('MMM D YYYY, h:mm:ss a')))])])]}},{key:\"item.actions\",fn:function(ref){\n                  var item = ref.item;\nreturn [_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                  var on = ref.on;\n                  var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\",\"icon\":\"\",\"x-small\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"fa-ellipsis-v\")])],1)]}}],null,true)},[_c('v-list',{staticClass:\"ml-2 mr-2\"},[_c('v-list-item',{key:\"downloadInput\",attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.downloadInput(item)}}},[_c('v-list-item-title',[_c('v-icon',[_vm._v(\"fa-download\")]),_vm._v(\" Download Input \")],1)],1),(_vm.hasOutput(item))?_c('v-list-item',{key:\"downloadOutput\",attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.downloadOutput(item)}}},[_c('v-list-item-title',[_c('v-icon',[_vm._v(\"fa-download\")]),_vm._v(\" Download Output \")],1)],1):_vm._e(),_c('v-list-item',{key:\"clipboardInput\",attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.copyInput(item)}}},[_c('v-list-item-title',[_c('v-icon',[_vm._v(\"fa-paperclip\")]),_vm._v(\" Copy Input to Clipboard \")],1)],1),(_vm.hasOutput(item))?_c('v-list-item',{key:\"clipboardOutput\",attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.copyOutput(item)}}},[_c('v-list-item-title',[_c('v-icon',[_vm._v(\"fa-paperclip\")]),_vm._v(\" Copy Output to Clipboard \")],1)],1):_vm._e(),_c('v-spacer'),_vm._l((item.downloads),function(download){return _c('v-list-item',{key:'download-' + download.id,attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.downloadFile(download)}}},[_c('v-list-item-title',[_c('v-icon',[_vm._v(\"fa-download\")]),_vm._v(\" Download \"+_vm._s(download.filename)+\" \")],1)],1)})],2)],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <list-page-top\n      :breads=\"breads\"\n    />\n    <div style=\"display: flex; flix-direction: row;\">\n      <v-card\n        class=\"mr-2 pa-2\"\n        style=\"width:300px;\"\n      >\n        <v-expansion-panels\n          class=\"mb-6\"\n          multiple\n        >\n          <v-expansion-panel>\n            <v-expansion-panel-header expand-icon=\"mdi-menu-down\">\n              Search\n            </v-expansion-panel-header>\n            <v-expansion-panel-content>\n              <v-text-field\n                v-model=\"search\"\n                label=\"Search\"\n                outlined\n                dense\n                required\n                @input=\"handleSearch\"\n              />\n            </v-expansion-panel-content>\n          </v-expansion-panel>\n          <v-expansion-panel>\n            <v-expansion-panel-header expand-icon=\"mdi-menu-down\">\n              Agents\n            </v-expansion-panel-header>\n            <v-expansion-panel-content>\n              <v-checkbox\n                v-model=\"selectedAllAgents\"\n                x-small\n                dense\n                label=\"Select All\"\n              />\n              <v-divider class=\"pb-4\" />\n              <v-checkbox\n                v-for=\"agent in agents\"\n                :key=\"agent.session_id\"\n                v-model=\"selectedAgents\"\n                :value=\"agent.session_id\"\n                x-small\n                dense\n                :label=\"agent.name\"\n                @change=\"handleFilterChange\"\n              />\n            </v-expansion-panel-content>\n          </v-expansion-panel>\n          <v-expansion-panel>\n            <v-expansion-panel-header expand-icon=\"mdi-menu-down\">\n              Users\n            </v-expansion-panel-header>\n            <v-expansion-panel-content>\n              <v-checkbox\n                v-model=\"selectedAllUsers\"\n                x-small\n                dense\n                label=\"Select All\"\n              />\n              <v-divider class=\"pb-4\" />\n              <v-checkbox\n                v-for=\"user in users\"\n                :key=\"user.id\"\n                v-model=\"selectedUsers\"\n                :value=\"user.id\"\n                x-small\n                dense\n                :label=\"user.username\"\n                @change=\"handleFilterChange\"\n              />\n            </v-expansion-panel-content>\n          </v-expansion-panel>\n        </v-expansion-panels>\n      </v-card>\n      <v-card style=\"flex-grow: 1;\">\n        <v-pagination\n          v-model=\"currentPage\"\n          :length=\"totalPages\"\n          :total-visible=\"10\"\n          @input=\"handlePageChange\"\n        />\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"tasks\"\n          item-key=\"uniqueId\"\n          :sort-by=\"sortBy\"\n          :sort-desc=\"sortDesc\"\n          :server-items-length=\"totalItems\"\n          :footer-props=\"{'items-per-page-options': [10, 25, 50, 100]}\"\n          :items-per-page.sync=\"itemsPerPage\"\n          :loading=\"loading\"\n          :page=\"currentPage\"\n          show-expand\n          @update:options=\"handleOptionsChange\"\n        >\n          <template #expanded-item=\"{ headers, item }\">\n            <td :colspan=\"headers.length\">\n              <div>\n                <div class=\"pt-2\">\n                  <tooltip-button\n                    :icon=\"item.expandedInput ? 'fa-minus' : 'fa-plus'\"\n                    text=\"See Full Input\"\n                    x-small\n                    @click=\"toggleSeeFullInput(item)\"\n                  />\n                </div>\n                <p><b>Task Input:</b></p>\n                <p\n                  class=\"mono\"\n                  style=\"max-width: 900px\"\n                >\n                  {{ item.expandedInput ? expandedTasks[item.id].full_input : item.input }}\n                </p>\n                <p><b>Task Output:</b></p>\n                <div\n                  v-if=\"item.downloads.length > 0\n                    && item.downloads.some(d => d.filename.match(/[^/]+(jpg|jpeg|png|gif)$/))\"\n                >\n                  <v-btn\n                    text\n                    x-small\n                    @click=\"getImagesForTask(item)\"\n                  >\n                    View Images\n                  </v-btn>\n                  <div>\n                    <v-img\n                      v-for=\"download in item.downloads\"\n                      :key=\"download.id\"\n                      :src=\"imageData(item, download)\"\n                      :alt=\"download.filename\"\n                      :max-width=\"700\"\n                      contain\n                    />\n                  </div>\n                </div>\n                <p\n                  class=\"mono\"\n                  style=\"max-width: 900px\"\n                >\n                  <!-- TODO Option for original output -->\n                  {{ item.output }}\n                </p>\n              </div>\n            </td>\n          </template>\n          <template #item.status=\"{ item }\">\n            <v-icon\n              v-if=\"item.status === 'pulled'\"\n              color=\"green\"\n              small\n            >\n              fa-check-square\n            </v-icon>\n            <v-icon\n              v-else-if=\"item.status === 'queued'\"\n              color=\"orange\"\n              small\n            >\n              fa-clock\n            </v-icon>\n          </template>\n          <template #item.input=\"{ item }\">\n            <span>{{ truncateMessage(item.input) }}</span>\n          </template>\n          <template #item.updated_at=\"{ item }\">\n            <v-tooltip top>\n              <template #activator=\"{ on }\">\n                <span v-on=\"on\">{{ moment(item.updated_at).fromNow() }}</span>\n              </template>\n              <span>{{ moment(item.updated_at).format('MMM D YYYY, h:mm:ss a') }}</span>\n            </v-tooltip>\n          </template>\n          <template #item.actions=\"{ item }\">\n            <v-menu offset-y>\n              <template #activator=\"{ on, attrs }\">\n                <v-btn\n                  text\n                  icon\n                  x-small\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                >\n                  <v-icon>fa-ellipsis-v</v-icon>\n                </v-btn>\n              </template>\n              <v-list class=\"ml-2 mr-2\">\n                <v-list-item\n                  key=\"downloadInput\"\n                  link\n                  @click=\"downloadInput(item)\"\n                >\n                  <v-list-item-title>\n                    <v-icon>fa-download</v-icon>\n                    Download Input\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item\n                  v-if=\"hasOutput(item)\"\n                  key=\"downloadOutput\"\n                  link\n                  @click=\"downloadOutput(item)\"\n                >\n                  <v-list-item-title>\n                    <v-icon>fa-download</v-icon>\n                    Download Output\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item\n                  key=\"clipboardInput\"\n                  link\n                  @click=\"copyInput(item)\"\n                >\n                  <v-list-item-title>\n                    <v-icon>fa-paperclip</v-icon>\n                    Copy Input to Clipboard\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item\n                  v-if=\"hasOutput(item)\"\n                  key=\"clipboardOutput\"\n                  link\n                  @click=\"copyOutput(item)\"\n                >\n                  <v-list-item-title>\n                    <v-icon>fa-paperclip</v-icon>\n                    Copy Output to Clipboard\n                  </v-list-item-title>\n                </v-list-item>\n                <v-spacer />\n                <v-list-item\n                  v-for=\"download in item.downloads\"\n                  :key=\"'download-' + download.id\"\n                  link\n                  @click=\"downloadFile(download)\"\n                >\n                  <v-list-item-title>\n                    <v-icon>fa-download</v-icon>\n                    Download {{ download.filename }}\n                  </v-list-item-title>\n                </v-list-item>\n              </v-list>\n            </v-menu>\n          </template>\n        </v-data-table>\n      </v-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport moment from 'moment';\nimport Vue from 'vue';\nimport debounce from 'lodash.debounce';\n\nimport * as agentApi from '@/api/agent-api';\nimport * as downloadApi from '@/api/download-api';\n\nimport ListPageTop from '@/components/ListPageTop.vue';\nimport TooltipButton from '@/components/TooltipButton.vue';\n\nexport default {\n  name: 'Tasks',\n  components: {\n    ListPageTop,\n    TooltipButton,\n  },\n  data() {\n    return {\n      breads: [\n        {\n          text: 'Tasks',\n          disabled: true,\n          href: '/tasks',\n        },\n      ],\n      search: '',\n      selectedAgents: [],\n      selectedUsers: [],\n      tasks: [],\n      currentPage: 1,\n      totalPages: 1,\n      totalItems: 0,\n      itemsPerPage: 10,\n      loading: false,\n      moment,\n      sortBy: 'updated_at',\n      sortDesc: true,\n      refreshInterval: null,\n      expandedTasks: {},\n      headers: [\n        { text: 'Task ID', value: 'id', sortable: true },\n        { text: 'Status', value: 'status', sortable: true },\n        { text: 'Agent', value: 'agent_id', sortable: true },\n        { text: 'Task Input', value: 'input', sortable: false },\n        { text: 'Task Name', value: 'task_name', sortable: false },\n        { text: 'User', value: 'username', sortable: false },\n        { text: 'Updated At', value: 'updated_at', sortable: true },\n        { text: 'Actions', value: 'actions', sortable: false },\n      ],\n    };\n  },\n  computed: {\n    ...mapState({\n      agents: (state) => state.agent.agents,\n      users: (state) => state.user.users,\n    }),\n    selectedAllAgents: {\n      set(val) {\n        if (val) {\n          this.selectedAgents = this.agents.map((a) => a.session_id);\n        } else {\n          this.selectedAgents = [];\n        }\n        this.debouncedGetTasks();\n      },\n      get() {\n        return this.selectedAgents.length === this.agents.length;\n      },\n    },\n    selectedAllUsers: {\n      set(val) {\n        if (val) {\n          this.selectedUsers = this.users.map((u) => u.id);\n        } else {\n          this.selectedUsers = [];\n        }\n        this.debouncedGetTasks();\n      },\n      get() {\n        return this.selectedUsers.length === this.users.length;\n      },\n    },\n  },\n  async mounted() {\n    await Promise.all([\n      this.$store.dispatch('agent/getAgents'),\n      this.$store.dispatch('user/getUsers'),\n    ]);\n    this.selectedAgents = this.agents.map((a) => a.session_id);\n    this.selectedUsers = this.users.map((u) => u.id);\n\n    this.debouncedGetTasks = debounce(this.getTasks, 500);\n\n    this.debouncedGetTasks();\n  },\n  // todo a lot of this stuff is copied from AgentCommandHistory and could probably be reused.\n  methods: {\n    truncateMessage(task) {\n      if (task) {\n        return task.length > 30 ? `${task.substr(0, 30)}...` : task;\n      }\n      return '';\n    },\n    isDownload(task) {\n      return task.downloads && task.downloads.length > 0;\n    },\n    downloadFile(download) {\n      downloadApi.getDownload(download.id);\n    },\n    hasOutput(task) {\n      return !!task.output;\n    },\n    async downloadInput(task) {\n      if (task.input) {\n        if (!this.expandedTasks[task.id]) {\n          const data = await agentApi.getTask(task.agent_id, task.id);\n          this.expandedTasks[task.id] = data;\n        }\n\n        this.downloadText(this.expandedTasks[task.id].full_input, `${task.agent_id}-${task.id}-input.txt`);\n      }\n    },\n    downloadOutput(task) {\n      if (task.output) {\n        this.downloadText(task.output, `${task.agent_id}-${task.id}-output.txt`);\n      }\n    },\n    async copyInput(task) {\n      if (task.input) {\n        if (!this.expandedTasks[task.id]) {\n          const data = await agentApi.getTask(task.agent_id, task.id);\n          this.expandedTasks[task.id] = data;\n        }\n\n        navigator.clipboard.writeText(this.expandedTasks[task.id].full_input);\n      }\n    },\n    copyOutput(task) {\n      if (task.output) {\n        navigator.clipboard.writeText(task.output);\n      }\n    },\n    async toggleSeeFullInput(task) {\n      if (!this.expandedTasks[task.id]) {\n        const data = await agentApi.getTask(task.agent_id, task.id);\n        this.expandedTasks[task.id] = data;\n        task.expandedInput = true;\n      } else {\n        task.expandedInput = !task.expandedInput;\n      }\n      Vue.set(this.tasks, this.tasks.indexOf(task), task);\n    },\n    async getTasks() {\n      if (this.selectedAgents.length === 0) {\n        // seems weird to do this but it would be weirder to select all agents\n        // when no agents are selected. Even though the api sees no agents as all agents.\n        this.tasks = [];\n        this.currentPage = 1;\n        this.totalPages = 1;\n        this.totalItems = 0;\n        return;\n      }\n      this.loading = true;\n      let agents = null;\n      if (this.selectedAgents.length > 0) {\n        agents = this.selectedAgents;\n      }\n      const response = await agentApi.getTasks(agents, {\n        page: this.currentPage,\n        limit: this.itemsPerPage,\n        sortBy: this.sortBy,\n        sortOrder: this.sortDesc ? 'desc' : 'asc',\n        users: this.selectedUsers,\n        search: this.search,\n      });\n      this.currentPage = response.page;\n      this.totalPages = response.total_pages;\n      this.totalItems = response.total;\n\n      // iterate response.records and add expandedInput if it exists in expandedTasks\n      // this ensures that the expandedInput doesn't get wiped away after a refresh\n      this.tasks = response.records.map((task) => {\n        task.uniqueId = `${task.agent_id}-${task.id}`;\n        if (this.expandedTasks[task.id]) {\n          task.expandedInput = true;\n        }\n        return task;\n      });\n\n      this.tasks = response.records;\n      this.loading = false;\n    },\n    imageData(task, download) {\n      const expandedDownloads = this.expandedTasks[task.id]?.downloads;\n      if (expandedDownloads) {\n        const found = expandedDownloads.find((d) => d.id === download.id);\n        if (found) {\n          return found.image;\n        }\n      }\n      return null;\n    },\n    async getImagesForTask(task) {\n      if (!this.expandedTasks[task.id]) {\n        const data = await agentApi.getTask(task.agent_id, task.id);\n        this.expandedTasks[task.id] = data;\n      }\n\n      for (let i = 0; i < task.downloads.length; i++) {\n        const download = task.downloads[i];\n        if (!this.expandedTasks[task.id].downloads[download.id]?.image\n          && download.filename.match(/[^/]+(jpg|jpeg|png|gif)$/)) {\n          // eslint-disable-next-line\n          const url = await downloadApi.getDownloadAsUrl(download.id);\n          this.expandedTasks[task.id].downloads[i].image = url;\n        }\n      }\n      Vue.set(this.tasks, this.tasks.indexOf(task), task);\n    },\n    handleSearch() {\n      this.debouncedGetTasks();\n    },\n    handleFilterChange() {\n      this.debouncedGetTasks();\n    },\n    handlePageChange(page) {\n      this.currentPage = page;\n      this.debouncedGetTasks();\n    },\n    handleOptionsChange(value) {\n      this.currentPage = value.page;\n      this.itemsPerPage = value.itemsPerPage;\n\n      if (value.sortBy.length > 0) {\n        // eslint-disable-next-line prefer-destructuring\n        this.sortBy = value.sortBy[0];\n        // eslint-disable-next-line prefer-destructuring\n        this.sortDesc = value.sortDesc[0];\n      } else {\n        this.sortBy = 'id';\n        this.sortDesc = true;\n      }\n      if (this.sortBy === 'agent_id') this.sortBy = 'agent';\n      this.debouncedGetTasks();\n    },\n  },\n};\n</script>\n\n<style>\n.mono {\n  white-space: pre-wrap;\n  font: 0.8em 'Andale Mono', Consolas, 'Courier New';\n  line-height: 1.6em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tasks.vue?vue&type=template&id=0b37e115&\"\nimport script from \"./Tasks.vue?vue&type=script&lang=js&\"\nexport * from \"./Tasks.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tasks.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCheckbox,VDataTable,VDivider,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VImg,VList,VListItem,VListItemTitle,VMenu,VPagination,VSpacer,VTextField,VTooltip})\n"],"sourceRoot":""}