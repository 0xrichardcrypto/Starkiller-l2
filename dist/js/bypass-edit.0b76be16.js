(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bypass-edit"],{"6e38":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("edit-page-top",{attrs:{breads:e.breads,"show-submit":e.initialLoad,"disable-submit":!e.canEdit&&e.initialLoad,"show-copy":e.id>0&&e.initialLoad,"show-delete":e.id>0&&e.initialLoad,"submit-loading":e.loading&&e.initialLoad,"copy-link":e.copyLink,"small-copy":!0,"small-delete":!0},on:{submit:e.submit,delete:e.deleteBypass}}),a("div",{staticClass:"headers"},[a("h3",[e._v(e._s(e.mode)+" Bypass")])]),e.errorState?a("error-state-alert",{attrs:{"resource-id":e.id,"resource-type":"bypass"}}):a("v-card",{staticStyle:{padding:"10px"}},[a("v-form",{ref:"form",nativeOn:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.rules["name"],label:"name",outlined:"",dense:"",required:"",disabled:!e.isNew},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("v-text-field",{attrs:{rules:e.rules["language"],label:"language",outlined:"",dense:"",required:""},model:{value:e.form.language,callback:function(t){e.$set(e.form,"language",t)},expression:"form.language"}}),a("v-textarea",{attrs:{rules:e.rules["code"],label:"code",outlined:"",dense:"",required:"","auto-grow":""},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1)],1)},n=[],s=a("5530"),i=a("1da1"),o=(a("96cf"),a("b0c0"),a("2b0e")),u=a("6bbe"),c=a("1dc0"),d=a("a4c7"),l={name:"BypassEdit",components:{ErrorStateAlert:u["a"],EditPageTop:c["a"]},data:function(){return{form:{},rules:{name:[function(e){return!!e||"Name is required"},function(e){return!!e&&e.length>2||"Name must be larger than 2 characters"}],language:[function(e){return!!e||"Language is required"},function(e){return!!e&&e.length>2||"Language must be larger than 2 characters"}],code:[function(e){return!!e||"Code is required"}]},bypass:{},valid:!0,loading:!1,errorState:!1}},computed:{isNew:function(){return"bypassNew"===this.$route.name},isCopy:function(){return!0===this.$route.params.copy},mode:function(){return this.isCopy?"Copy":this.isNew?"New":"View"},canEdit:function(){return!0},id:function(){return this.isCopy?0:this.$route.params.id},copyLink:function(){return this.id>0?{name:"bypassNew",params:{copy:!0,id:this.id}}:{}},breads:function(){return[{text:"Bypasses",disabled:!1,to:"/bypasses",exact:!0},{text:this.breadcrumbName,disabled:!0,to:"/bypasses-edit"}]},breadcrumbName:function(){return this.isCopy?"New":this.form.name?this.form.name:this.id?this.id:"New"}},watch:{id:function(e){e&&this.getBypass(e)}},mounted:function(){!this.isNew||this.isCopy?this.getBypass(this.$route.params.id):this.initialLoad=!0},methods:{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:e.loading=!0,e.id>0?d["e"](e.form.id,e.form.name,e.form.code,e.form.language).then((function(){e.$snack.success("Bypass updated"),e.loading=!1})).catch((function(t){e.$snack.error("Error: ".concat(t)),e.loading=!1})):d["a"](e.form.name,e.form.code,e.form.language).then((function(t){var a=t.id;e.$snack.success("Bypass created"),e.loading=!1,e.$router.push({name:"bypassEdit",params:{id:a}})})).catch((function(t){e.$snack.error("Error: ".concat(t)),e.loading=!1}));case 4:case"end":return t.stop()}}),t)})))()},deleteBypass:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$root.$confirm("Delete","Are you sure you want to delete bypass ".concat(e.form.name,"?"),{color:"red"});case 2:if(!t.sent){t.next=12;break}return t.prev=3,t.next=6,e.$store.dispatch("bypass/deleteBypass",e.form.id);case 6:e.$router.push({name:"bypasses"}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),e.$snack.error("Error: ".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})))()},getBypass:function(e){var t=this;d["c"](e).then((function(e){t.bypass=Object(s["a"])({},e),t.initialLoad=!0,o["default"].set(t,"form",Object(s["a"])({},e))})).catch((function(){t.errorState=!0}))}}},m=l,p=a("2877"),f=a("6544"),b=a.n(f),h=a("b0af"),g=a("4bd4"),y=a("8654"),v=a("a844"),w=Object(p["a"])(m,r,n,!1,null,null,null);t["default"]=w.exports;b()(w,{VCard:h["a"],VForm:g["a"],VTextField:y["a"],VTextarea:v["a"]})}}]);
//# sourceMappingURL=bypass-edit.0b76be16.js.map