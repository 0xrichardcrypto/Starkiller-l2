(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["users"],{"828a":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("portal",{attrs:{to:"app-bar"}},[s("div",{staticClass:"v-toolbar__content",staticStyle:{width:"100%"}},[s("v-breadcrumbs",{attrs:{items:t.breads}}),s("v-spacer"),t._t("extra-stuff"),s("div",[t.showDelete?s("v-btn",{staticClass:"mr-2",attrs:{color:"error",text:""},on:{click:function(e){return t.$emit("delete")}}},[t._v(" "+t._s(t.deleteText)+" "),s("v-icon",{attrs:{right:""}},[t._v(" fa-trash-alt ")])],1):t._e(),t.showRefresh?s("v-btn",{staticClass:"mr-2",attrs:{disabled:t.refreshLoading,color:"primary",text:""},on:{click:function(e){return t.$emit("refresh")}}},[t._v(" "+t._s(t.refreshText)+" "),s("v-icon",{attrs:{right:""}},[t._v(" fa-redo "+t._s(t.refreshLoading?"fa-spin":"")+" ")])],1):t._e(),t.showCreate?s("v-btn",{staticClass:"mr-2",attrs:{color:"primary",rounded:""},on:{click:function(e){return t.$emit("create")}}},[t._v(" "+t._s(t.createText)+" "),s("v-icon",{attrs:{right:""}},[t._v(" fa-plus-square ")])],1):t._e()],1)],2)])},a=[],n={name:"ListPageTop",props:{deleteText:{type:String,default:"Delete"},refreshText:{type:String,default:"Refresh"},createText:{type:String,default:"Create"},showDelete:{type:Boolean,default:!1},showRefresh:{type:Boolean,default:!1},showCreate:{type:Boolean,default:!1},refreshLoading:{type:Boolean,default:!1},breads:{type:Array,default:function(){return[]}}}},r=n,o=s("2877"),c=s("6544"),l=s.n(c),u=s("2bc5"),d=s("8336"),h=s("132d"),f=s("2fa4"),p=Object(o["a"])(r,i,a,!1,null,null,null);e["a"]=p.exports;l()(p,{VBreadcrumbs:u["a"],VBtn:d["a"],VIcon:h["a"],VSpacer:f["a"]})},"9d01":function(t,e,s){},b73d:function(t,e,s){"use strict";var i=s("15fd"),a=s("5530"),n=(s("0481"),s("ec29"),s("9d01"),s("fe09")),r=s("c37a"),o=s("c3f0"),c=s("0789"),l=s("490a"),u=s("80d2"),d=["title"];e["a"]=n["a"].extend({name:"v-switch",directives:{Touch:o["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(i["a"])(t,d));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(a["a"])(Object(a["a"])({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(a["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(a["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(c["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(l["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===u["A"].left&&this.isActive||t.keyCode===u["A"].right&&!this.isActive)&&this.onChange()}}})},ed81:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("list-page-top",{attrs:{breads:t.breads,"show-create":t.isAdmin,"show-refresh":!0,"show-delete":!1},on:{create:t.create,refresh:t.getUsers}}),s("v-data-table",{attrs:{headers:t.headers,items:t.users,dense:""},scopedSlots:t._u([{key:"item.username",fn:function(e){var i=e.item;return[t.isAdmin?s("router-link",{staticStyle:{color:"inherit"},attrs:{to:{name:"userEdit",params:{id:i.id}}}},[t._v(" "+t._s(i.username)+" ")]):s("span",[t._v(t._s(i.username))])]}},{key:"item.is_admin",fn:function(e){var i=e.item;return[s("v-simple-checkbox",{attrs:{disabled:""},model:{value:i.is_admin,callback:function(e){t.$set(i,"is_admin",e)},expression:"item.is_admin"}})]}},{key:"item.actions",fn:function(e){var i=e.item;return[t.isAdmin?s("v-tooltip",{attrs:{disabled:!i.admin,top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("div",t._g({staticStyle:{"max-width":"120px"}},a),[s("v-switch",t._g({attrs:{disabled:i.admin,label:"Enabled"},on:{change:function(e){return t.disableUser(i)}},model:{value:i.enabled,callback:function(e){t.$set(i,"enabled",e)},expression:"item.enabled"}},a))],1)]}}],null,!0)},[s("span",[t._v("Cannot disable admin user")])]):t._e()]}}])})],1)},a=[],n=s("1da1"),r=s("5530"),o=(s("96cf"),s("2f62")),c=s("f087"),l=s("c1df"),u=s.n(l),d=s("828a"),h={name:"Users",components:{ListPageTop:d["a"]},data:function(){return{moment:u.a,breads:[{text:"Users",disabled:!0,href:"/users"}],headers:[{text:"Name",value:"username"},{text:"Is Admin",value:"is_admin"},{text:"Actions",value:"actions",sortable:!1}]}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({users:function(t){return t.user.users}})),Object(o["b"])({isAdmin:"application/isAdmin"})),mounted:function(){this.getUsers()},methods:{create:function(){this.$router.push({name:"userNew"})},disableUser:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:c["e"](t).catch((function(s){e.$snack.error("Error: ".concat(s)),t.enabled=!t.enabled}));case 1:case"end":return s.stop()}}),s)})))()},getUsers:function(){this.$store.dispatch("user/getUsers")}}},f=h,p=s("2877"),m=s("6544"),v=s.n(m),b=s("8fea"),g=s("9e88"),w=s("b73d"),_=s("3a2f"),x=Object(p["a"])(f,i,a,!1,null,null,null);e["default"]=x.exports;v()(x,{VDataTable:b["a"],VSimpleCheckbox:g["a"],VSwitch:w["a"],VTooltip:_["a"]})}}]);
//# sourceMappingURL=users.9fd58dd8.js.map