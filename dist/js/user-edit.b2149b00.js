(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-edit"],{"0798":function(t,e,n){"use strict";var r=n("5530"),o=n("ade3"),i=(n("caad"),n("0c18"),n("10d2")),a=n("afdd"),s=n("9d26"),c=n("f2e7"),l=n("7560"),u=n("f40d"),d=n("58df"),f=n("d9bd");e["a"]=Object(d["a"])(i["a"],c["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(o["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(a["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(s["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(s["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(r["a"])(Object(r["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||l["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(f["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,n){},"0fd9":function(t,e,n){"use strict";var r=n("ade3"),o=n("5530"),i=(n("caad"),n("2532"),n("99af"),n("b64b"),n("ac1f"),n("5319"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("4b85"),n("2b0e")),a=n("d9f7"),s=n("80d2"),c=["sm","md","lg","xl"],l=["start","end","center"];function u(t,e){return c.reduce((function(n,r){return n[t+Object(s["I"])(r)]=e(),n}),{})}var d=function(t){return[].concat(l,["baseline","stretch"]).includes(t)},f=u("align",(function(){return{type:String,default:null,validator:d}})),h=function(t){return[].concat(l,["space-between","space-around"]).includes(t)},p=u("justify",(function(){return{type:String,default:null,validator:h}})),m=function(t){return[].concat(l,["space-between","space-around","stretch"]).includes(t)},b=u("alignContent",(function(){return{type:String,default:null,validator:m}})),v={align:Object.keys(f),justify:Object.keys(p),alignContent:Object.keys(b)},g={align:"align",justify:"justify",alignContent:"align-content"};function y(t,e,n){var r=g[t];if(null!=n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return r+="-".concat(n),r.toLowerCase()}}var w=new Map;e["a"]=i["default"].extend({name:"v-row",functional:!0,props:Object(o["a"])(Object(o["a"])(Object(o["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d}},f),{},{justify:{type:String,default:null,validator:h}},p),{},{alignContent:{type:String,default:null,validator:m}},b),render:function(t,e){var n=e.props,o=e.data,i=e.children,s="";for(var c in n)s+=String(n[c]);var l=w.get(s);return l||function(){var t,e;for(e in l=[],v)v[e].forEach((function(t){var r=n[t],o=y(e,t,r);o&&l.push(o)}));l.push((t={"no-gutters":n.noGutters,"row--dense":n.dense},Object(r["a"])(t,"align-".concat(n.align),n.align),Object(r["a"])(t,"justify-".concat(n.justify),n.justify),Object(r["a"])(t,"align-content-".concat(n.alignContent),n.alignContent),t)),w.set(s,l)}(),t(n.tag,Object(a["a"])(o,{staticClass:"row",class:l}),i)}})},"1dc0":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("portal",{attrs:{to:"app-bar"}},[n("div",{staticClass:"v-toolbar__content",staticStyle:{width:"100%"}},[n("v-breadcrumbs",{attrs:{items:t.breads}}),n("v-spacer"),t._t("extra-stuff"),t.showDelete&&!t.smallDelete?n("v-btn",{staticClass:"mr-2",attrs:{color:"error",text:""},on:{click:function(e){return t.$emit("delete")}}},[t._v(" "+t._s(t.deleteText)+" "),n("v-icon",{attrs:{right:""}},[t._v(" fa-trash-alt ")])],1):t.showDelete&&t.smallDelete?n("tooltip-button",{attrs:{icon:"fa-trash-alt",color:"error",text:t.deleteText},on:{click:function(e){return t.$emit("delete")}}}):t._e(),t.showCopy&&Object.keys(t.copyLink).length>0&&!t.smallCopy?n("v-btn",{staticClass:"mr-2",attrs:{color:"primary",text:"",to:t.copyLink}},[t._v(" "+t._s(t.copyText)+" "),n("v-icon",{attrs:{right:""}},[t._v(" fa-copy ")])],1):t.showCopy&&Object.keys(t.copyLink).length>0&&t.smallCopy?n("tooltip-button",{attrs:{icon:"fa-copy",text:t.copyText,to:t.copyLink}}):t._e(),t.showSubmit?n("v-btn",{staticClass:"primary",attrs:{disabled:t.disableSubmit,type:"submit",loading:t.submitLoading},on:{click:function(e){return t.$emit("submit")}}},[t._v(" "+t._s(t.submitText)+" ")]):t._e()],2)])},o=[],i=n("9442"),a={name:"ListPageTop",components:{TooltipButton:i["a"]},props:{deleteText:{type:String,default:"Delete"},copyText:{type:String,default:"Copy"},submitText:{type:String,default:"Submit"},showDelete:{type:Boolean,default:!1},showCopy:{type:Boolean,default:!1},showSubmit:{type:Boolean,default:!1},disableSubmit:{type:Boolean},submitLoading:{type:Boolean,default:!1},copyLink:{type:Object,default:function(){}},smallCopy:{type:Boolean,default:!1},smallDelete:{type:Boolean,default:!1},breads:{type:Array,default:function(){return[]}}}},s=a,c=n("2877"),l=n("6544"),u=n.n(l),d=n("2bc5"),f=n("8336"),h=n("132d"),p=n("2fa4"),m=Object(c["a"])(s,r,o,!1,null,null,null);e["a"]=m.exports;u()(m,{VBreadcrumbs:d["a"],VBtn:f["a"],VIcon:h["a"],VSpacer:p["a"]})},"62ad":function(t,e,n){"use strict";var r=n("ade3"),o=n("5530"),i=(n("a9e3"),n("b64b"),n("ac1f"),n("5319"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("159b"),n("2ca0"),n("4b85"),n("2b0e")),a=n("d9f7"),s=n("80d2"),c=["sm","md","lg","xl"],l=function(){return c.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{})}(),u=function(){return c.reduce((function(t,e){return t["offset"+Object(s["I"])(e)]={type:[String,Number],default:null},t}),{})}(),d=function(){return c.reduce((function(t,e){return t["order"+Object(s["I"])(e)]={type:[String,Number],default:null},t}),{})}(),f={col:Object.keys(l),offset:Object.keys(u),order:Object.keys(d)};function h(t,e,n){var r=t;if(null!=n&&!1!==n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return"col"!==t||""!==n&&!0!==n?(r+="-".concat(n),r.toLowerCase()):r.toLowerCase()}}var p=new Map;e["a"]=i["default"].extend({name:"v-col",functional:!0,props:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({cols:{type:[Boolean,String,Number],default:!1}},l),{},{offset:{type:[String,Number],default:null}},u),{},{order:{type:[String,Number],default:null}},d),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,o=e.data,i=e.children,s=(e.parent,"");for(var c in n)s+=String(n[c]);var l=p.get(s);return l||function(){var t,e;for(e in l=[],f)f[e].forEach((function(t){var r=n[t],o=h(e,t,r);o&&l.push(o)}));var o=l.some((function(t){return t.startsWith("col-")}));l.push((t={col:!o||!n.cols},Object(r["a"])(t,"col-".concat(n.cols),n.cols),Object(r["a"])(t,"offset-".concat(n.offset),n.offset),Object(r["a"])(t,"order-".concat(n.order),n.order),Object(r["a"])(t,"align-self-".concat(n.alignSelf),n.alignSelf),t)),p.set(s,l)}(),t(n.tag,Object(a["a"])(o,{class:l}),i)}})},"6bbe":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-alert",{attrs:{prominent:"",type:"error"}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"grow"},[t._v(" "+t._s(t.message)+" ")]),n("v-col",{staticClass:"shrink"},[n("v-btn",{on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Go back ")])],1)],1)],1)},o=[],i=(n("a9e3"),n("99af"),void 0),a={name:"ErrorStateAlert",props:{resourceType:{type:String,required:!0},resourceId:{type:[String,Number],required:!0},message:{type:String,default:function(){return"The resource '".concat(i.resourceType,"/").concat(i.resourceId,"' Not Found.")}}}},s=a,c=n("2877"),l=n("6544"),u=n.n(l),d=n("0798"),f=n("8336"),h=n("62ad"),p=n("0fd9"),m=Object(c["a"])(s,r,o,!1,null,null,null);e["a"]=m.exports;u()(m,{VAlert:d["a"],VBtn:f["a"],VCol:h["a"],VRow:p["a"]})},9442:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"mr-5",attrs:{color:t.flat?"":t.color,to:t.to,icon:"",small:!t.xSmall,"x-small":t.xSmall},on:{click:function(e){return t.$emit("click")}}},r),[n("v-icon",{style:0!==t.padLeft?"padding-left: "+t.padLeft+"px":""},[t._v(" "+t._s(t.icon)+" ")])],1)]}}])},[n("span",[t._v(t._s(t.text))])])},o=[],i=(n("a9e3"),{name:"TooltipButton",props:{icon:{type:String,required:!0},text:{type:String,required:!0},padLeft:{type:Number,default:0},color:{type:String,default:""},flat:{type:Boolean,default:!1},to:{type:Object,default:null},xSmall:{type:Boolean,default:!1}}}),a=i,s=n("2877"),c=n("6544"),l=n.n(c),u=n("8336"),d=n("132d"),f=n("3a2f"),h=Object(s["a"])(a,r,o,!1,null,null,null);e["a"]=h.exports;l()(h,{VBtn:u["a"],VIcon:d["a"],VTooltip:f["a"]})},"9d01":function(t,e,n){},afdd:function(t,e,n){"use strict";var r=n("8336");e["a"]=r["a"]},b73d:function(t,e,n){"use strict";var r=n("15fd"),o=n("5530"),i=(n("0481"),n("ec29"),n("9d01"),n("fe09")),a=n("c37a"),s=n("c3f0"),c=n("0789"),l=n("490a"),u=n("80d2"),d=["title"];e["a"]=i["a"].extend({name:"v-switch",directives:{Touch:s["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(o["a"])(Object(o["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(r["a"])(t,d));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(o["a"])(Object(o["a"])({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(o["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(o["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(c["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(l["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===u["A"].left&&this.isActive||t.keyCode===u["A"].right&&!this.isActive)&&this.onChange()}}})},da5c:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("edit-page-top",{attrs:{breads:t.breads,"show-submit":!0,"show-copy":!1,"show-delete":!1,"submit-loading":t.loading},on:{submit:t.submit}}),n("h3",[t._v(t._s(t.id?"Edit":"New")+" User")]),t.errorState?n("error-state-alert",{attrs:{"resource-id":t.id,"resource-type":"user"}}):n("v-card",{staticStyle:{padding:"10px"}},[n("v-form",{ref:"form",staticStyle:{"max-width":"500px"},nativeOn:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{rules:t.rules["name"],label:"Username",outlined:"",dense:"",required:"",disabled:!t.isNew},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),t.isNew?n("v-text-field",{attrs:{type:t.showPassword?"text":"password","append-icon":t.showPassword?"fa-eye":"fa-eye-slash",rules:t.rules["password"],label:"Password",autocomplete:"off",outlined:"",dense:"",required:""},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}):t._e(),t.isNew?n("v-text-field",{attrs:{type:t.showConfirm?"text":"password","append-icon":t.showConfirm?"fa-eye":"fa-eye-slash",rules:t.rules["confirmPassword"],label:"Confirm Password",autocomplete:"off",outlined:"",dense:"",required:""},on:{"click:append":function(e){t.showConfirm=!t.showConfirm}},model:{value:t.form.confirm_password,callback:function(e){t.$set(t.form,"confirm_password",e)},expression:"form.confirm_password"}}):t._e(),t.isAdmin?n("v-switch",{attrs:{label:"Admin"},model:{value:t.form.is_admin,callback:function(e){t.$set(t.form,"is_admin",e)},expression:"form.is_admin"}}):t._e(),t.isNew?t._e():n("v-switch",{attrs:{label:"Enabled"},model:{value:t.form.enabled,callback:function(e){t.$set(t.form,"enabled",e)},expression:"form.enabled"}})],1)],1)],1)},o=[],i=n("5530"),a=(n("b0c0"),n("2f62")),s=n("f087"),c=n("6bbe"),l=n("1dc0"),u={name:"UserEdit",components:{ErrorStateAlert:c["a"],EditPageTop:l["a"]},data:function(){var t=this;return{form:{username:"",password:"",confirm_password:"",is_admin:!1},rules:{name:[function(t){return!!t||"Name is required"},function(t){return!!t&&t.length>3||"Name must be larger than 3 characters"}],password:[function(t){return!!t||"Password is required"},function(t){return!!t&&t.length>5||"Password must be larger than 5 characters"}],confirmPassword:[function(t){return!!t||"Confirmation is required"},function(e){return e===t.form.password||"Password must match"}]},user:{},valid:!0,loading:!1,showPassword:!1,showConfirm:!1,errorState:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(a["b"])({isAdmin:"application/isAdmin"})),{},{breads:function(){return[{text:"Users",disabled:!1,to:"/users",exact:!0},{text:this.breadcrumbName,disabled:!0,to:"/users-edit"}]},breadcrumbName:function(){return this.user.username?this.user.username:this.id?this.id:"New"},isNew:function(){return"userNew"===this.$route.name},id:function(){return this.$route.params.id}}),mounted:function(){this.isNew||this.getUser(this.id)},methods:{submit:function(){var t=this;!this.loading&&this.$refs.form.validate()&&(this.loading=!0,this.id>0?s["e"](this.form).then((function(){t.$snack.success("User updated"),t.loading=!1})).catch((function(e){t.$snack.error("Error: ".concat(e)),t.loading=!1})):s["a"](this.form).then((function(e){var n=e.id;t.$snack.success("User created"),t.loading=!1,t.$router.push({name:"userEdit",params:{id:n}})})).catch((function(e){t.$snack.error("Error: ".concat(e)),t.loading=!1})))},getUser:function(t){var e=this;s["b"](t).then((function(t){e.user=t,e.form=t})).catch((function(){e.errorState=!0}))}}},d=u,f=n("2877"),h=n("6544"),p=n.n(h),m=n("b0af"),b=n("4bd4"),v=n("b73d"),g=n("8654"),y=Object(f["a"])(d,r,o,!1,null,null,null);e["default"]=y.exports;p()(y,{VCard:m["a"],VForm:b["a"],VSwitch:v["a"],VTextField:g["a"]})},f40d:function(t,e,n){"use strict";var r=n("2b0e");e["a"]=r["default"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})}}]);
//# sourceMappingURL=user-edit.b2149b00.js.map