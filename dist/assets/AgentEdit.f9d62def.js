import{m as p,C as y,o as P,ag as z,b as m,c as u,g as $,P as ie,ap as qe,M as Ue,W as _e,az as Ge,aq as Ke,aA as Ze,T as k,aB as Xe,aC as se,aD as Q,aE as be,w as Y,al as we,a1 as v,aF as de,K as Je,t as ee,aG as Qe,a2 as T,af as G,aH as et,aI as tt,h as it,aJ as st,aK as nt,aL as at,ak as rt,R as $e,z as lt,ao as ot,v as o,an as ht,am as dt,aM as ct,a6 as ut,n as w,a as B,i as pt,aN as ft,aO as mt,aP as gt,aQ as ce,ad as W,aR as F,aS as ke,ab as _,aT as vt,j as xe,k as A,V as O,aU as ne,aV as ae,aW as j,aX as re,aY as K,aZ as Te,a_ as yt,a0 as _t,a$ as bt,b0 as wt,b1 as le,ay as $t,b2 as kt,b3 as xt,l as Tt}from"./index.f33523e7.js";import{h as R}from"./moment.9709ab41.js";import{_ as V,a as D}from"./VRow.b205c6aa.js";import{a as Ce}from"./GeneralForm.e5a3a574.js";import{b as Se,_ as oe}from"./VSelect.eca0a1c3.js";import{_ as C}from"./TooltipButton.a73557f3.js";import{l as De,_ as Ct}from"./index.a91bf094.js";import{D as St}from"./download-stager.85a6b476.js";import{a as Dt,b as It,c as At,d as Pt}from"./download-api.57842e7d.js";import{B as b,_ as Bt,a as Ot,b as Ft,c as Mt}from"./VExpansionPanelHeader.573cfe54.js";import{_ as Vt}from"./VDataTable.9a5c4dfc.js";import{_ as H}from"./VTooltip.91352f29.js";import{_ as q}from"./AgentExecuteModule.9d7e0500.js";import{a as Ie,_ as Ae}from"./ErrorStateAlert.fc9bad05.js";import{_ as Et}from"./VBreadcrumbs.fe72e785.js";import"./VSwitch.3623fea4.js";import"./index.64fab82e.js";import"./TechniqueChips.d2e60a3f.js";import"./InfoViewer.a9e9ba86.js";import"./index.b4f7c839.js";const Z=b.extend({name:"button-group",provide(){return{btnToggle:this}},computed:{classes(){return b.options.computed.classes.call(this)}},methods:{genData:b.options.methods.genData}});const Lt=p(Z,y).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes(){return{...Z.options.computed.classes.call(this),"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile,...this.themeClasses}}},methods:{genData(){const e=this.setTextColor(this.color,{...Z.options.methods.genData.call(this)});return this.group?e:this.setBackgroundColor(this.backgroundColor,e)}}}),U=P.extend({name:"localable",props:{locale:String},computed:{currentLocale(){return this.locale||this.$vuetify.lang.current}}});function Nt(e,t=0,i=1){let s;return e<100&&e>=0?(s=new Date(Date.UTC(e,t,i)),isFinite(s.getUTCFullYear())&&s.setUTCFullYear(e)):s=new Date(Date.UTC(e,t,i)),s}function te(e,t,i){const s=7+t-i;return-((7+Nt(e,0,s).getUTCDay()-t)%7)+s-1}function Yt(e,t,i,s){let n=[0,31,59,90,120,151,181,212,243,273,304,334][t];return t>1&&he(e)&&n++,n+i}function X(e,t,i){const s=te(e,t,i),n=te(e+1,t,i);return((he(e)?366:365)-s+n)/7}function Rt(e,t,i,s,n){const a=te(e,s,n),r=Math.ceil((Yt(e,t,i)-a)/7);return r<1?r+X(e-1,s,n):r>X(e,s,n)?r-X(e,s,n):r}function he(e){return e%4===0&&e%100!==0||e%400===0}const zt=[0,31,28,31,30,31,30,31,31,30,31,30,31],Wt=[0,31,29,31,30,31,30,31,31,30,31,30,31];function jt(e,t){return he(e)?Wt[t]:zt[t]}const ue=b.extend({name:"v-window",directives:{Touch:z},provide(){return{windowGroup:this}},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:Boolean,showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive(){return this.transitionCount>0},classes(){return{...b.options.computed.classes.call(this),"v-window--show-arrows-on-hover":this.showArrowsOnHover}},computedTransition(){if(!this.isBooted)return"";const e=this.vertical?"y":"x",i=(this.internalReverse?!this.isReverse:this.isReverse)?"-reverse":"";return`v-window-${e}${i}-transition`},hasActiveItems(){return Boolean(this.items.find(e=>!e.disabled))},hasNext(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev(){return this.continuous||this.internalIndex>0},internalIndex(){return this.items.findIndex((e,t)=>this.internalValue===this.getValue(e,t))},internalReverse(){return this.$vuetify.rtl?!this.reverse:this.reverse}},watch:{internalIndex(e,t){this.isReverse=this.updateReverse(e,t)}},mounted(){window.requestAnimationFrame(()=>this.isBooted=!0)},methods:{genDefaultSlot(){return this.$slots.default},genContainer(){const e=[this.genDefaultSlot()];return this.showArrows&&e.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},e)},genIcon(e,t,i){var s,n,a;const r={click:g=>{g.stopPropagation(),this.changedByDelimiters=!0,i()}},l={"aria-label":this.$vuetify.lang.t(`$vuetify.carousel.${e}`)},d=(a=(n=(s=this.$scopedSlots)[e])===null||n===void 0?void 0:n.call(s,{on:r,attrs:l}))!==null&&a!==void 0?a:[this.$createElement(m,{props:{icon:!0},attrs:l,on:r},[this.$createElement(u,{props:{large:!0}},t)])];return this.$createElement("div",{staticClass:`v-window__${e}`},d)},genControlIcons(){const e=[],t=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&t&&typeof t=="string"){const s=this.genIcon("prev",t,this.prev);s&&e.push(s)}const i=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&i&&typeof i=="string"){const s=this.genIcon("next",i,this.next);s&&e.push(s)}return e},getNextIndex(e){const t=(e+1)%this.items.length;return this.items[t].disabled?this.getNextIndex(t):t},getPrevIndex(e){const t=(e+this.items.length-1)%this.items.length;return this.items[t].disabled?this.getPrevIndex(t):t},next(){if(!this.hasActiveItems||!this.hasNext)return;const e=this.getNextIndex(this.internalIndex),t=this.items[e];this.internalValue=this.getValue(t,e)},prev(){if(!this.hasActiveItems||!this.hasPrev)return;const e=this.getPrevIndex(this.internalIndex),t=this.items[e];this.internalValue=this.getValue(t,e)},updateReverse(e,t){const i=this.items.length,s=i-1;return i<=2?e<t:e===s&&t===0?!0:e===0&&t===s?!1:e<t}},render(e){const t={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){const i=this.touch||{left:()=>{this.$vuetify.rtl?this.prev():this.next()},right:()=>{this.$vuetify.rtl?this.next():this.prev()},end:s=>{s.stopPropagation()},start:s=>{s.stopPropagation()}};t.directives.push({name:"touch",value:i})}return e("div",t,[this.genContainer()])}}),Ht=p(qe,ie("windowGroup","v-window-item","v-window")),pe=Ht.extend().extend().extend({name:"v-window-item",directives:{Touch:z},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?typeof this.reverseTransition<"u"?this.reverseTransition||"":this.windowGroup.computedTransition:typeof this.transition<"u"?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){!this.inTransition||(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,this.windowGroup.transitionCount===0&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,this.windowGroup.transitionCount===0&&(this.windowGroup.transitionHeight=$(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(e){!this.inTransition||this.$nextTick(()=>{!this.computedTransition||!this.inTransition||(this.windowGroup.transitionHeight=$(e.clientHeight))})}},render(e){return e("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent(()=>[this.genWindowItem()]))}});function fe(e){const i=Math.abs(e);return Math.sign(e)*(i/((1/.501-2)*(1-i)+1))}function me(e,t,i,s){const n=e.clientWidth,a=i?t.content-e.offsetLeft-n:e.offsetLeft;i&&(s=-s);const r=t.wrapper+s,l=n+a,d=n*.4;return a<=s?s=Math.max(a-d,0):r<=l&&(s=Math.min(s-(r-l-d),t.content-t.wrapper)),i?-s:s}function qt(e,t,i){const{offsetLeft:s,clientWidth:n}=e;if(i){const a=t.content-s-n/2-t.wrapper/2;return-Math.min(t.content-t.wrapper,Math.max(0,a))}else{const a=s+n/2-t.wrapper/2;return Math.min(t.content-t.wrapper,Math.max(0,a))}}const M=p(b,Ue).extend({name:"base-slide-group",directives:{Resize:_e,Touch:z},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)}},data:()=>({isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}),computed:{canTouch(){return typeof window<"u"},__cachedNext(){return this.genTransition("next")},__cachedPrev(){return this.genTransition("prev")},classes(){return{...b.options.computed.classes.call(this),"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing}},hasAffixes(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext(){if(!this.hasAffixes)return!1;const{content:e,wrapper:t}=this.widths;return e>Math.abs(this.scrollOffset)+t},hasPrev(){return this.hasAffixes&&this.scrollOffset!==0}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset(e){this.$vuetify.rtl&&(e=-e);let t=e<=0?fe(-e):e>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+fe(this.widths.content-this.widths.wrapper-e):-e;this.$vuetify.rtl&&(t=-t),this.$refs.content.style.transform=`translateX(${t}px)`}},mounted(){if(typeof ResizeObserver<"u"){const e=new ResizeObserver(()=>{this.onResize()});e.observe(this.$el),e.observe(this.$refs.content),this.$on("hook:destroyed",()=>{e.disconnect()})}else{let e=0;this.$on("hook:beforeUpdate",()=>{var t;e=(((t=this.$refs.content)===null||t===void 0?void 0:t.children)||[]).length}),this.$on("hook:updated",()=>{var t;e!==(((t=this.$refs.content)===null||t===void 0?void 0:t.children)||[]).length&&this.setWidths()})}},methods:{onScroll(){this.$refs.wrapper.scrollLeft=0},onFocusin(e){if(!!this.isOverflowing){for(const t of Ge(e))for(const i of this.items)if(i.$el===t){this.scrollOffset=me(i.$el,this.widths,this.$vuetify.rtl,this.scrollOffset);return}}},genNext(){const e=this.$scopedSlots.next?this.$scopedSlots.next({}):this.$slots.next||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:()=>this.onAffixClick("next")},key:"next"},[e])},genContent(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},this.$slots.default)},genData(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon(e){let t=e;this.$vuetify.rtl&&e==="prev"?t="next":this.$vuetify.rtl&&e==="next"&&(t="prev");const i=`${e[0].toUpperCase()}${e.slice(1)}`,s=this[`has${i}`];return!this.showArrows&&!s?null:this.$createElement(u,{props:{disabled:!s}},this[`${t}Icon`])},genPrev(){const e=this.$scopedSlots.prev?this.$scopedSlots.prev({}):this.$slots.prev||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:()=>this.onAffixClick("prev")},key:"prev"},[e])},genTransition(e){return this.$createElement(Ke,[this.genIcon(e)])},genWrapper(){return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:e=>this.overflowCheck(e,this.onTouchStart),move:e=>this.overflowCheck(e,this.onTouchMove),end:e=>this.overflowCheck(e,this.onTouchEnd)}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset(e,t,i,s){const n=i?-1:1,a=n*s+(e==="prev"?-1:1)*t.wrapper;return n*Math.max(Math.min(a,t.content-t.wrapper),0)},onAffixClick(e){this.$emit(`click:${e}`),this.scrollTo(e)},onResize(){this._isDestroyed||this.setWidths()},onTouchStart(e){const{content:t}=this.$refs;this.startX=this.scrollOffset+e.touchstartX,t.style.setProperty("transition","none"),t.style.setProperty("willChange","transform")},onTouchMove(e){if(!!this.canTouch){if(!this.isSwiping){const t=e.touchmoveX-e.touchstartX,i=e.touchmoveY-e.touchstartY;this.isSwipingHorizontal=Math.abs(t)>Math.abs(i),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-e.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd(){if(!this.canTouch)return;const{content:e,wrapper:t}=this.$refs,i=e.clientWidth-t.clientWidth;e.style.setProperty("transition",null),e.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-i&&(this.scrollOffset=-i):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=i&&(this.scrollOffset=i),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")},overflowCheck(e,t){e.stopPropagation(),this.isOverflowing&&t(e)},scrollIntoView(){if(!this.selectedItem&&this.items.length){const e=this.items[this.items.length-1].$el.getBoundingClientRect(),t=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&t.right<e.right||!this.$vuetify.rtl&&t.left>e.left)&&this.scrollTo("prev")}!this.selectedItem||(this.selectedIndex===0||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=qt(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=me(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo(e){this.scrollOffset=this.calculateNewOffset(e,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths(){window.requestAnimationFrame(()=>{if(this._isDestroyed)return;const{content:e,wrapper:t}=this.$refs;this.widths={content:e?e.clientWidth:0,wrapper:t?t.clientWidth:0},this.isOverflowing=this.widths.wrapper+1<this.widths.content,this.scrollIntoView()})}},render(e){return e("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});M.extend({name:"v-slide-group",provide(){return{slideGroup:this}}});const Ut=p(y).extend({methods:{genPickerButton(e,t,i,s=!1,n=""){const a=this[e]===t,r=l=>{l.stopPropagation(),this.$emit(`update:${Ze(e)}`,t)};return this.$createElement("div",{staticClass:`v-picker__title__btn ${n}`.trim(),class:{"v-picker__title__btn--active":a,"v-picker__title__btn--readonly":s},on:a||s?void 0:{click:r}},Array.isArray(i)?i:[i])}}}),Gt=p(Ut).extend({name:"v-date-picker-title",props:{date:{type:String,default:""},disabled:Boolean,readonly:Boolean,selectingYear:Boolean,value:{type:String},year:{type:[Number,String],default:""},yearIcon:{type:String}},data:()=>({isReversing:!1}),computed:{computedTransition(){return this.isReversing?"picker-reverse-transition":"picker-transition"}},watch:{value(e,t){this.isReversing=e<t}},methods:{genYearIcon(){return this.$createElement(u,{props:{dark:!0}},this.yearIcon)},getYearBtn(){return this.genPickerButton("selectingYear",!0,[String(this.year),this.yearIcon?this.genYearIcon():null],!1,"v-date-picker-title__year")},genTitleText(){return this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("div",{domProps:{innerHTML:this.date||"&nbsp;"},key:this.value})])},genTitleDate(){return this.genPickerButton("selectingYear",!1,[this.genTitleText()],!1,"v-date-picker-title__date")}},render(e){return e("div",{staticClass:"v-date-picker-title",class:{"v-date-picker-title--disabled":this.disabled}},[this.getYearBtn(),this.genTitleDate()])}});function Pe(e,t,i){return Object.keys(e.$listeners).reduce((s,n)=>(n.endsWith(t)&&(s[n.slice(0,-t.length)]=a=>e.$emit(n,i,a)),s),{})}function J(e,t){return Object.keys(e.$listeners).reduce((i,s)=>(s.endsWith(t)&&(i[s]=e.$listeners[s]),i),{})}const Kt=(e,t,i)=>(t=t>>0,e=String(e),i=String(i),e.length>t?String(e):(t=t-e.length,t>i.length&&(i+=i.repeat(t/i.length)),i.slice(0,t)+String(e))),h=(e,t=2)=>Kt(e,t,"0");function S(e,t,i={start:0,length:0}){const s=n=>{const[a,r,l]=n.trim().split(" ")[0].split("-");return[h(a,4),h(r||1),h(l||1)].join("-")};try{const n=new Intl.DateTimeFormat(e||void 0,t);return a=>n.format(new Date(`${s(a)}T00:00:00+00:00`))}catch{return i.start||i.length?a=>s(a).substr(i.start||0,i.length):void 0}}const Be=(e,t)=>{const[i,s]=e.split("-").map(Number);return s+t===0?`${i-1}-12`:s+t===13?`${i+1}-01`:`${i}-${h(s+t)}`},f=(e,t)=>{const[i,s=1,n=1]=e.split("-");return`${i}-${h(s)}-${h(n)}`.substr(0,{date:10,month:7,year:4}[t])},Zt=p(y,U,k).extend({name:"v-date-picker-header",props:{disabled:Boolean,format:Function,min:String,max:String,nextAriaLabel:String,nextIcon:{type:String,default:"$next"},prevAriaLabel:String,prevIcon:{type:String,default:"$prev"},readonly:Boolean,value:{type:[Number,String],required:!0}},data(){return{isReversing:!1}},computed:{formatter(){return this.format?this.format:String(this.value).split("-")[1]?S(this.currentLocale,{month:"long",year:"numeric",timeZone:"UTC"},{length:7}):S(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4})}},watch:{value(e,t){this.isReversing=e<t}},methods:{genBtn(e){const t=e>0?this.nextAriaLabel:this.prevAriaLabel,i=t?this.$vuetify.lang.t(t):void 0,s=this.disabled||e<0&&this.min&&this.calculateChange(e)<this.min||e>0&&this.max&&this.calculateChange(e)>this.max;return this.$createElement(m,{attrs:{"aria-label":i},props:{dark:this.dark,disabled:s,icon:!0,light:this.light},on:{click:n=>{n.stopPropagation(),this.$emit("input",this.calculateChange(e))}}},[this.$createElement(u,e<0==!this.$vuetify.rtl?this.prevIcon:this.nextIcon)])},calculateChange(e){const[t,i]=String(this.value).split("-").map(Number);return i==null?`${t+e}`:Be(String(this.value),e)},genHeader(){const e=!this.disabled&&(this.color||"accent"),t=this.$createElement("div",this.setTextColor(e,{key:String(this.value)}),[this.$createElement("button",{attrs:{type:"button"},on:{click:()=>this.$emit("toggle")}},[this.$slots.default||this.formatter(String(this.value))])]),i=this.$createElement("transition",{props:{name:this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"}},[t]);return this.$createElement("div",{staticClass:"v-date-picker-header__value",class:{"v-date-picker-header__value--disabled":this.disabled}},[i])}},render(){return this.$createElement("div",{staticClass:"v-date-picker-header",class:{"v-date-picker-header--disabled":this.disabled,...this.themeClasses}},[this.genBtn(-1),this.genHeader(),this.genBtn(1)])}});function Oe(e,t,i,s){return(!s||s(e))&&(!t||e>=t.substr(0,10))&&(!i||e<=i)}const Fe=p(y,U,k).extend({directives:{Touch:z},props:{allowedDates:Function,current:String,disabled:Boolean,format:Function,events:{type:[Array,Function,Object],default:()=>null},eventColor:{type:[Array,Function,Object,String],default:()=>"warning"},min:String,max:String,range:Boolean,readonly:Boolean,scrollable:Boolean,tableDate:{type:String,required:!0},value:[String,Array]},data:()=>({isReversing:!1,wheelThrottle:null}),computed:{computedTransition(){return this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"},displayedMonth(){return Number(this.tableDate.split("-")[1])-1},displayedYear(){return Number(this.tableDate.split("-")[0])}},watch:{tableDate(e,t){this.isReversing=e<t}},mounted(){this.wheelThrottle=Xe(this.wheel,250)},methods:{genButtonClasses(e,t,i,s,n,a){return{"v-size--default":!t,"v-date-picker-table__current":s,"v-btn--active":i,"v-btn--flat":!e||this.disabled,"v-btn--text":i===s,"v-btn--rounded":t,"v-btn--disabled":!e||this.disabled,"v-btn--outlined":s&&!i,"v-date-picker--first-in-range":n,"v-date-picker--last-in-range":a,...this.themeClasses}},genButtonEvents(e,t,i){if(!this.disabled)return se({click:()=>{t&&!this.readonly&&this.$emit("input",e)}},Pe(this,`:${i}`,e))},genButton(e,t,i,s,n=!1){const a=Oe(e,this.min,this.max,this.allowedDates),r=this.isSelected(e)&&a,l=e===this.current,d=r?this.setBackgroundColor:this.setTextColor,g=(r||l)&&(this.color||"accent");let I=!1,x=!1;return this.range&&!!this.value&&Array.isArray(this.value)&&(I=e===this.value[0],x=e===this.value[this.value.length-1]),this.$createElement("button",d(g,{staticClass:"v-btn",class:this.genButtonClasses(a&&!n,t,r,l,I,x),attrs:{type:"button"},domProps:{disabled:this.disabled||!a||n},on:this.genButtonEvents(e,a,i)}),[this.$createElement("div",{staticClass:"v-btn__content"},[s(e)]),this.genEvents(e)])},getEventColors(e){const t=n=>Array.isArray(n)?n:[n];let i,s=[];if(Array.isArray(this.events)?i=this.events.includes(e):this.events instanceof Function?i=this.events(e)||!1:this.events?i=this.events[e]||!1:i=!1,i)i!==!0?s=t(i):typeof this.eventColor=="string"?s=[this.eventColor]:typeof this.eventColor=="function"?s=t(this.eventColor(e)):Array.isArray(this.eventColor)?s=this.eventColor:s=t(this.eventColor[e]);else return[];return s.filter(n=>n)},genEvents(e){const t=this.getEventColors(e);return t.length?this.$createElement("div",{staticClass:"v-date-picker-table__events"},t.map(i=>this.$createElement("div",this.setBackgroundColor(i)))):null},isValidScroll(e,t){const i=t(e),s=i.split("-").length===1?"year":"month";return e<0&&(this.min?i>=f(this.min,s):!0)||e>0&&(this.max?i<=f(this.max,s):!0)},wheel(e,t){this.$emit("update:table-date",t(e.deltaY))},touch(e,t){this.$emit("update:table-date",t(e))},genTable(e,t,i){const s=this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("table",{key:this.tableDate},t)]),n={name:"touch",value:{left:a=>a.offsetX<-15&&this.isValidScroll(1,i)&&this.touch(1,i),right:a=>a.offsetX>15&&this.isValidScroll(-1,i)&&this.touch(-1,i)}};return this.$createElement("div",{staticClass:e,class:{"v-date-picker-table--disabled":this.disabled,...this.themeClasses},on:!this.disabled&&this.scrollable?{wheel:a=>{a.preventDefault(),this.isValidScroll(a.deltaY,i)&&this.wheelThrottle(a,i)}}:void 0,directives:[n]},[s])},isSelected(e){if(Array.isArray(this.value))if(this.range&&this.value.length===2){const[t,i]=[...this.value].sort();return t<=e&&e<=i}else return this.value.indexOf(e)!==-1;return e===this.value}}}),Xt=p(Fe).extend({name:"v-date-picker-date-table",props:{firstDayOfWeek:{type:[String,Number],default:0},localeFirstDayOfYear:{type:[String,Number],default:0},showAdjacentMonths:Boolean,showWeek:Boolean,weekdayFormat:Function},computed:{formatter(){return this.format||S(this.currentLocale,{day:"numeric",timeZone:"UTC"},{start:8,length:2})},weekdayFormatter(){return this.weekdayFormat||S(this.currentLocale,{weekday:"narrow",timeZone:"UTC"})},weekDays(){const e=parseInt(this.firstDayOfWeek,10);return this.weekdayFormatter?Q(7).map(t=>this.weekdayFormatter(`2017-01-${e+t+15}`)):Q(7).map(t=>["S","M","T","W","T","F","S"][(t+e)%7])}},methods:{calculateTableDate(e){return Be(this.tableDate,Math.sign(e||1))},genTHead(){const e=this.weekDays.map(t=>this.$createElement("th",t));return this.showWeek&&e.unshift(this.$createElement("th")),this.$createElement("thead",this.genTR(e))},weekDaysBeforeFirstDayOfTheMonth(){return(new Date(`${this.displayedYear}-${h(this.displayedMonth+1)}-01T00:00:00+00:00`).getUTCDay()-parseInt(this.firstDayOfWeek)+7)%7},getWeekNumber(e){return Rt(this.displayedYear,this.displayedMonth,e,parseInt(this.firstDayOfWeek),parseInt(this.localeFirstDayOfYear))},genWeekNumber(e){return this.$createElement("td",[this.$createElement("small",{staticClass:"v-date-picker-table--date__week"},String(e).padStart(2,"0"))])},genTBody(){const e=[],t=new Date(this.displayedYear,this.displayedMonth+1,0).getDate();let i=[],s=this.weekDaysBeforeFirstDayOfTheMonth();this.showWeek&&i.push(this.genWeekNumber(this.getWeekNumber(1)));const n=this.displayedMonth?this.displayedYear:this.displayedYear-1,a=(this.displayedMonth+11)%12,r=new Date(this.displayedYear,this.displayedMonth,0).getDate(),l=this.showWeek?8:7;for(;s--;){const x=`${n}-${h(a+1)}-${h(r-s)}`;i.push(this.$createElement("td",this.showAdjacentMonths?[this.genButton(x,!0,"date",this.formatter,!0)]:[]))}for(s=1;s<=t;s++){const x=`${this.displayedYear}-${h(this.displayedMonth+1)}-${h(s)}`;i.push(this.$createElement("td",[this.genButton(x,!0,"date",this.formatter)])),i.length%l===0&&(e.push(this.genTR(i)),i=[],this.showWeek&&(s<t||this.showAdjacentMonths)&&i.push(this.genWeekNumber(this.getWeekNumber(s+7))))}const d=this.displayedMonth===11?this.displayedYear+1:this.displayedYear,g=(this.displayedMonth+1)%12;let I=1;for(;i.length<l;){const x=`${d}-${h(g+1)}-${h(I++)}`;i.push(this.$createElement("td",this.showAdjacentMonths?[this.genButton(x,!0,"date",this.formatter,!0)]:[]))}return i.length&&e.push(this.genTR(i)),this.$createElement("tbody",e)},genTR(e){return[this.$createElement("tr",e)]}},render(){return this.genTable("v-date-picker-table v-date-picker-table--date",[this.genTHead(),this.genTBody()],this.calculateTableDate)}}),Jt=p(Fe).extend({name:"v-date-picker-month-table",computed:{formatter(){return this.format||S(this.currentLocale,{month:"short",timeZone:"UTC"},{start:5,length:2})}},methods:{calculateTableDate(e){return`${parseInt(this.tableDate,10)+Math.sign(e||1)}`},genTBody(){const e=[],t=Array(3).fill(null),i=12/t.length;for(let s=0;s<i;s++){const n=t.map((a,r)=>{const l=s*t.length+r,d=`${this.displayedYear}-${h(l+1)}`;return this.$createElement("td",{key:l},[this.genButton(d,!1,"month",this.formatter)])});e.push(this.$createElement("tr",{key:s},n))}return this.$createElement("tbody",e)}},render(){return this.genTable("v-date-picker-table v-date-picker-table--month",[this.genTBody()],this.calculateTableDate)}});const Qt=p(y,U).extend({name:"v-date-picker-years",props:{format:Function,min:[Number,String],max:[Number,String],readonly:Boolean,value:[Number,String]},data(){return{defaultColor:"primary"}},computed:{formatter(){return this.format||S(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4})}},mounted(){setTimeout(()=>{const e=this.$el.getElementsByClassName("active")[0];e?this.$el.scrollTop=e.offsetTop-this.$el.offsetHeight/2+e.offsetHeight/2:this.min&&!this.max?this.$el.scrollTop=this.$el.scrollHeight:!this.min&&this.max?this.$el.scrollTop=0:this.$el.scrollTop=this.$el.scrollHeight/2-this.$el.offsetHeight/2})},methods:{genYearItem(e){const t=this.formatter(`${e}`),i=parseInt(this.value,10)===e,s=i&&(this.color||"primary");return this.$createElement("li",this.setTextColor(s,{key:e,class:{active:i},on:se({click:()=>this.$emit("input",e)},Pe(this,":year",e))}),t)},genYearItems(){const e=[],t=this.value?parseInt(this.value,10):new Date().getFullYear(),i=this.max?parseInt(this.max,10):t+100,s=Math.min(i,this.min?parseInt(this.min,10):t-100);for(let n=i;n>=s;n--)e.push(this.genYearItem(n));return e}},render(){return this.$createElement("ul",{staticClass:"v-date-picker-years",ref:"years"},this.genYearItems())}});const ei=p(y,be,k).extend({name:"v-picker",props:{flat:Boolean,fullWidth:Boolean,landscape:Boolean,noTitle:Boolean,transition:{type:String,default:"fade-transition"},width:{type:[Number,String],default:290}},computed:{computedTitleColor(){const e=this.isDark?!1:this.color||"primary";return this.color||e}},methods:{genTitle(){return this.$createElement("div",this.setBackgroundColor(this.computedTitleColor,{staticClass:"v-picker__title",class:{"v-picker__title--landscape":this.landscape}}),this.$slots.title)},genBodyTransition(){return this.$createElement("transition",{props:{name:this.transition}},this.$slots.default)},genBody(){return this.$createElement("div",{staticClass:"v-picker__body",class:{"v-picker__body--no-title":this.noTitle,...this.themeClasses},style:this.fullWidth?void 0:{width:$(this.width)}},[this.genBodyTransition()])},genActions(){return this.$createElement("div",{staticClass:"v-picker__actions v-card__actions",class:{"v-picker__actions--no-title":this.noTitle}},this.$slots.actions)}},render(e){return e("div",{staticClass:"v-picker v-card",class:{"v-picker--flat":this.flat,"v-picker--landscape":this.landscape,"v-picker--full-width":this.fullWidth,...this.themeClasses,...this.elevationClasses}},[this.$slots.title?this.genTitle():null,this.genBody(),this.$slots.actions?this.genActions():null])}}),ti=p(y,be,k).extend({name:"picker",props:{flat:Boolean,fullWidth:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,width:{type:[Number,String],default:290}},methods:{genPickerTitle(){return null},genPickerBody(){return null},genPickerActionsSlot(){return this.$scopedSlots.default?this.$scopedSlots.default({save:this.save,cancel:this.cancel}):this.$slots.default},genPicker(e){const t=[];if(!this.noTitle){const s=this.genPickerTitle();s&&t.push(s)}const i=this.genPickerBody();return i&&t.push(i),t.push(this.$createElement("template",{slot:"actions"},[this.genPickerActionsSlot()])),this.$createElement(ei,{staticClass:e,props:{color:this.headerColor||this.color,dark:this.dark,elevation:this.elevation,flat:this.flat,fullWidth:this.fullWidth,landscape:this.landscape,light:this.light,width:this.width,noTitle:this.noTitle}},t)}}}),ii=p(U,ti).extend({name:"v-date-picker",props:{activePicker:String,allowedDates:Function,dayFormat:Function,disabled:Boolean,events:{type:[Array,Function,Object],default:()=>null},eventColor:{type:[Array,Function,Object,String],default:()=>"warning"},firstDayOfWeek:{type:[String,Number],default:0},headerDateFormat:Function,localeFirstDayOfYear:{type:[String,Number],default:0},max:String,min:String,monthFormat:Function,multiple:Boolean,nextIcon:{type:String,default:"$next"},nextMonthAriaLabel:{type:String,default:"$vuetify.datePicker.nextMonthAriaLabel"},nextYearAriaLabel:{type:String,default:"$vuetify.datePicker.nextYearAriaLabel"},pickerDate:String,prevIcon:{type:String,default:"$prev"},prevMonthAriaLabel:{type:String,default:"$vuetify.datePicker.prevMonthAriaLabel"},prevYearAriaLabel:{type:String,default:"$vuetify.datePicker.prevYearAriaLabel"},range:Boolean,reactive:Boolean,readonly:Boolean,scrollable:Boolean,showCurrent:{type:[Boolean,String],default:!0},selectedItemsText:{type:String,default:"$vuetify.datePicker.itemsSelected"},showAdjacentMonths:Boolean,showWeek:Boolean,titleDateFormat:Function,type:{type:String,default:"date",validator:e=>["date","month"].includes(e)},value:[Array,String],weekdayFormat:Function,yearFormat:Function,yearIcon:String},data(){const e=new Date;return{internalActivePicker:this.type.toUpperCase(),inputDay:null,inputMonth:null,inputYear:null,isReversing:!1,now:e,tableDate:(()=>{if(this.pickerDate)return this.pickerDate;const t=Y(this.value),i=t[t.length-1]||(typeof this.showCurrent=="string"?this.showCurrent:`${e.getFullYear()}-${e.getMonth()+1}`);return f(i,this.type==="date"?"month":"year")})()}},computed:{multipleValue(){return Y(this.value)},isMultiple(){return this.multiple||this.range},lastValue(){return this.isMultiple?this.multipleValue[this.multipleValue.length-1]:this.value},selectedMonths(){return!this.value||this.type==="month"?this.value:this.isMultiple?this.multipleValue.map(e=>e.substr(0,7)):this.value.substr(0,7)},current(){return this.showCurrent===!0?f(`${this.now.getFullYear()}-${this.now.getMonth()+1}-${this.now.getDate()}`,this.type):this.showCurrent||null},inputDate(){return this.type==="date"?`${this.inputYear}-${h(this.inputMonth+1)}-${h(this.inputDay)}`:`${this.inputYear}-${h(this.inputMonth+1)}`},tableMonth(){return Number((this.pickerDate||this.tableDate).split("-")[1])-1},tableYear(){return Number((this.pickerDate||this.tableDate).split("-")[0])},minMonth(){return this.min?f(this.min,"month"):null},maxMonth(){return this.max?f(this.max,"month"):null},minYear(){return this.min?f(this.min,"year"):null},maxYear(){return this.max?f(this.max,"year"):null},formatters(){return{year:this.yearFormat||S(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4}),titleDate:this.titleDateFormat||(this.isMultiple?this.defaultTitleMultipleDateFormatter:this.defaultTitleDateFormatter)}},defaultTitleMultipleDateFormatter(){return e=>e.length?e.length===1?this.defaultTitleDateFormatter(e[0]):this.$vuetify.lang.t(this.selectedItemsText,e.length):"-"},defaultTitleDateFormatter(){const e={year:{year:"numeric",timeZone:"UTC"},month:{month:"long",timeZone:"UTC"},date:{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"}},t=S(this.currentLocale,e[this.type],{start:0,length:{date:10,month:7,year:4}[this.type]}),i=s=>t(s).replace(/([^\d\s])([\d])/g,(n,a,r)=>`${a} ${r}`).replace(", ",",<br>");return this.landscape?i:t}},watch:{internalActivePicker:{immediate:!0,handler(e){this.$emit("update:active-picker",e)}},activePicker(e){this.internalActivePicker=e},tableDate(e,t){const i=this.type==="month"?"year":"month";this.isReversing=f(e,i)<f(t,i),this.$emit("update:picker-date",e)},pickerDate(e){e?this.tableDate=e:this.lastValue&&this.type==="date"?this.tableDate=f(this.lastValue,"month"):this.lastValue&&this.type==="month"&&(this.tableDate=f(this.lastValue,"year"))},value(e,t){this.checkMultipleProp(),this.setInputDate(),(!this.isMultiple&&this.value&&!this.pickerDate||this.isMultiple&&this.multipleValue.length&&(!t||!t.length)&&!this.pickerDate)&&(this.tableDate=f(this.inputDate,this.type==="month"?"year":"month"))},type(e){if(this.internalActivePicker=e.toUpperCase(),this.value&&this.value.length){const t=this.multipleValue.map(i=>f(i,e)).filter(this.isDateAllowed);this.$emit("input",this.isMultiple?t:t[0])}}},created(){this.checkMultipleProp(),this.pickerDate!==this.tableDate&&this.$emit("update:picker-date",this.tableDate),this.setInputDate()},methods:{emitInput(e){if(this.range){if(this.multipleValue.length!==1)this.$emit("input",[e]);else{const i=[this.multipleValue[0],e];this.$emit("input",i),this.$emit("change",i)}return}const t=this.multiple?this.multipleValue.indexOf(e)===-1?this.multipleValue.concat([e]):this.multipleValue.filter(i=>i!==e):e;this.$emit("input",t),this.multiple||this.$emit("change",e)},checkMultipleProp(){if(this.value==null)return;const e=this.value.constructor.name,t=this.isMultiple?"Array":"String";e!==t&&we(`Value must be ${this.isMultiple?"an":"a"} ${t}, got ${e}`,this)},isDateAllowed(e){return Oe(e,this.min,this.max,this.allowedDates)},yearClick(e){this.inputYear=e,this.type==="month"?this.tableDate=`${e}`:this.tableDate=`${e}-${h((this.tableMonth||0)+1)}`,this.internalActivePicker="MONTH",this.reactive&&!this.readonly&&!this.isMultiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)},monthClick(e){const[t,i]=e.split("-");this.inputYear=parseInt(t,10),this.inputMonth=parseInt(i,10)-1,this.type==="date"?(this.inputDay&&(this.inputDay=Math.min(this.inputDay,jt(this.inputYear,this.inputMonth+1))),this.tableDate=e,this.internalActivePicker="DATE",this.reactive&&!this.readonly&&!this.isMultiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)):this.emitInput(this.inputDate)},dateClick(e){const[t,i,s]=e.split("-");this.inputYear=parseInt(t,10),this.inputMonth=parseInt(i,10)-1,this.inputDay=parseInt(s,10),this.emitInput(this.inputDate)},genPickerTitle(){return this.$createElement(Gt,{props:{date:this.value?this.formatters.titleDate(this.isMultiple?this.multipleValue:this.value):"",disabled:this.disabled,readonly:this.readonly,selectingYear:this.internalActivePicker==="YEAR",year:this.formatters.year(this.multipleValue.length?`${this.inputYear}`:this.tableDate),yearIcon:this.yearIcon,value:this.multipleValue[0]},slot:"title",on:{"update:selecting-year":e=>this.internalActivePicker=e?"YEAR":this.type.toUpperCase()}})},genTableHeader(){return this.$createElement(Zt,{props:{nextIcon:this.nextIcon,color:this.color,dark:this.dark,disabled:this.disabled,format:this.headerDateFormat,light:this.light,locale:this.locale,min:this.internalActivePicker==="DATE"?this.minMonth:this.minYear,max:this.internalActivePicker==="DATE"?this.maxMonth:this.maxYear,nextAriaLabel:this.internalActivePicker==="DATE"?this.nextMonthAriaLabel:this.nextYearAriaLabel,prevAriaLabel:this.internalActivePicker==="DATE"?this.prevMonthAriaLabel:this.prevYearAriaLabel,prevIcon:this.prevIcon,readonly:this.readonly,value:this.internalActivePicker==="DATE"?`${h(this.tableYear,4)}-${h(this.tableMonth+1)}`:`${h(this.tableYear,4)}`},on:{toggle:()=>this.internalActivePicker=this.internalActivePicker==="DATE"?"MONTH":"YEAR",input:e=>this.tableDate=e}})},genDateTable(){return this.$createElement(Xt,{props:{allowedDates:this.allowedDates,color:this.color,current:this.current,dark:this.dark,disabled:this.disabled,events:this.events,eventColor:this.eventColor,firstDayOfWeek:this.firstDayOfWeek,format:this.dayFormat,light:this.light,locale:this.locale,localeFirstDayOfYear:this.localeFirstDayOfYear,min:this.min,max:this.max,range:this.range,readonly:this.readonly,scrollable:this.scrollable,showAdjacentMonths:this.showAdjacentMonths,showWeek:this.showWeek,tableDate:`${h(this.tableYear,4)}-${h(this.tableMonth+1)}`,value:this.value,weekdayFormat:this.weekdayFormat},ref:"table",on:{input:this.dateClick,"update:table-date":e=>this.tableDate=e,...J(this,":date")}})},genMonthTable(){return this.$createElement(Jt,{props:{allowedDates:this.type==="month"?this.allowedDates:null,color:this.color,current:this.current?f(this.current,"month"):null,dark:this.dark,disabled:this.disabled,events:this.type==="month"?this.events:null,eventColor:this.type==="month"?this.eventColor:null,format:this.monthFormat,light:this.light,locale:this.locale,min:this.minMonth,max:this.maxMonth,range:this.range,readonly:this.readonly&&this.type==="month",scrollable:this.scrollable,value:this.selectedMonths,tableDate:`${h(this.tableYear,4)}`},ref:"table",on:{input:this.monthClick,"update:table-date":e=>this.tableDate=e,...J(this,":month")}})},genYears(){return this.$createElement(Qt,{props:{color:this.color,format:this.yearFormat,locale:this.locale,min:this.minYear,max:this.maxYear,value:this.tableYear},on:{input:this.yearClick,...J(this,":year")}})},genPickerBody(){const e=this.internalActivePicker==="YEAR"?[this.genYears()]:[this.genTableHeader(),this.internalActivePicker==="DATE"?this.genDateTable():this.genMonthTable()];return this.$createElement("div",{key:this.internalActivePicker},e)},setInputDate(){if(this.lastValue){const e=this.lastValue.split("-");this.inputYear=parseInt(e[0],10),this.inputMonth=parseInt(e[1],10)-1,this.type==="date"&&(this.inputDay=parseInt(e[2],10))}else this.inputYear=this.inputYear||this.now.getFullYear(),this.inputMonth=this.inputMonth==null?this.inputMonth:this.now.getMonth(),this.inputDay=this.inputDay||this.now.getDate()}},render(){return this.genPicker("v-picker--date")}});const si=v.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:e=>Y(e).every(t=>t!=null&&typeof t=="object")}},computed:{classes(){return{...v.options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const e=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);const t=this.internalArrayValue.reduce((i,{size:s=0})=>i+s,0);return this.$vuetify.lang.t(this.counterSizeString,e,de(t,this.base===1024))},internalArrayValue(){return Y(this.internalValue)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return!this.isDirty&&(this.persistentPlaceholder||this.isFocused||!this.hasLabel)?[this.placeholder]:this.internalArrayValue.map(e=>{const{name:t="",size:i=0}=e,s=this.truncateText(t);return this.showSize?`${s} (${de(i,this.base===1024)})`:s})},base(){return typeof this.showSize!="boolean"?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(e){e===!0&&Je("readonly is not supported on <v-file-input>",this)},immediate:!0},value(e){const t=this.multiple?e:e?[e]:[];ee(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map((e,t)=>this.$createElement(Se,{props:{small:this.smallChips},on:{"click:close":()=>{const i=this.internalValue;i.splice(t,1),this.internalValue=i}}},[e])):[]},genControl(){const e=v.options.methods.genControl.call(this);return this.hideInput&&(e.data.style=Qe(e.data.style,{display:"none"})),e},genInput(){const e=v.options.methods.genInput.call(this);return e.data.attrs.multiple=this.multiple,delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot(){if(!this.prependIcon)return null;const e=this.genIcon("prepend",()=>{this.$refs.input.click()});return this.genSlot("prepend","outer",[e])},genSelectionText(){const e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections(){const e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((t,i)=>{!this.$scopedSlots.selection||e.push(this.$scopedSlots.selection({text:this.text[i],file:t,index:i}))}):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot(){const e=v.options.methods.genTextFieldSlot.call(this);return e.data.on={...e.data.on||{},click:t=>{t.target&&t.target.nodeName==="LABEL"||this.$refs.input.click()}},e},onInput(e){const t=[...e.target.files||[]];this.internalValue=this.multiple?t:t[0],this.initialValue=this.internalValue},onKeyDown(e){this.$emit("keydown",e)},truncateText(e){if(e.length<Number(this.truncateLength))return e;const t=Math.floor((Number(this.truncateLength)-1)/2);return`${e.slice(0,t)}\u2026${e.slice(e.length-t)}`}}});const ni=p(b,T),ai=ni.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...T.options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},T.options.methods.genDefaultSlot.call(this))},genInputSlot(){const e=T.options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel(){const e=T.options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:b.options.methods.onClick},render(e){const t=T.options.render.call(this,e);return this._b(t.data,"div",this.attrs$),t}});const ri=p(nt,y,st,ie("radioGroup"),k),ge=ri.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){if(!this.isDisabled)return G.options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return T.options.computed.computedId.call(this)},hasLabel:T.options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||`radio-${this.radioGroup._uid}`},rippleState(){return G.options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(e){return G.options.methods.genInput.call(this,"radio",e)},genLabel(){return this.hasLabel?this.$createElement(et,{on:{click:tt},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},it(this,"label")||this.label):null},genRadio(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(u,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...t}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(e){const t={staticClass:"v-radio",class:this.classes,on:se({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return e("div",t,[this.genRadio(),this.genLabel()])}});const li=p(M,at,k).extend({name:"v-tabs-bar",provide(){return{tabsBar:this}},computed:{classes(){return{...M.options.computed.classes.call(this),"v-tabs-bar":!0,"v-tabs-bar--is-mobile":this.isMobile,"v-tabs-bar--show-arrows":this.showArrows,...this.themeClasses}}},watch:{items:"callSlider",internalValue:"callSlider",$route:"onRouteChange"},methods:{callSlider(){!this.isBooted||this.$emit("call:slider")},genContent(){const e=M.options.methods.genContent.call(this);return e.data=e.data||{},e.data.staticClass+=" v-tabs-bar__content",e},onRouteChange(e,t){if(this.mandatory)return;const i=this.items,s=e.path,n=t.path;let a=!1,r=!1;for(const l of i)if(l.to===n?r=!0:l.to===s&&(a=!0),a&&r)break;!a&&r&&(this.internalValue=void 0)}},render(e){const t=M.options.render.call(this,e);return t.data.attrs={role:"tablist"},t}}),oi=ue.extend({name:"v-tabs-items",props:{mandatory:{type:Boolean,default:!1}},computed:{classes(){return{...ue.options.computed.classes.call(this),"v-tabs-items":!0}},isDark(){return this.rootIsDark}},methods:{getValue(e,t){return e.id||b.options.methods.getValue.call(this,e,t)}}}),hi=p(y).extend({name:"v-tabs-slider",render(e){return e("div",this.setBackgroundColor(this.color,{staticClass:"v-tabs-slider"}))}}),di=p(y,rt,k),ve=di.extend().extend({name:"v-tabs",directives:{Resize:_e},props:{activeClass:{type:String,default:""},alignWithTitle:Boolean,backgroundColor:String,centerActive:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,iconsAndText:Boolean,mobileBreakpoint:[String,Number],nextIcon:{type:String,default:"$next"},optional:Boolean,prevIcon:{type:String,default:"$prev"},right:Boolean,showArrows:[Boolean,String],sliderColor:String,sliderSize:{type:[Number,String],default:2},vertical:Boolean},data(){return{resizeTimeout:0,slider:{height:null,left:null,right:null,top:null,width:null},transitionTime:300}},computed:{classes(){return{"v-tabs--align-with-title":this.alignWithTitle,"v-tabs--centered":this.centered,"v-tabs--fixed-tabs":this.fixedTabs,"v-tabs--grow":this.grow,"v-tabs--icons-and-text":this.iconsAndText,"v-tabs--right":this.right,"v-tabs--vertical":this.vertical,...this.themeClasses}},isReversed(){return this.$vuetify.rtl&&this.vertical},sliderStyles(){return{height:$(this.slider.height),left:this.isReversed?void 0:$(this.slider.left),right:this.isReversed?$(this.slider.right):void 0,top:this.vertical?$(this.slider.top):void 0,transition:this.slider.left!=null?null:"none",width:$(this.slider.width)}},computedColor(){return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"}},watch:{alignWithTitle:"callSlider",centered:"callSlider",centerActive:"callSlider",fixedTabs:"callSlider",grow:"callSlider",iconsAndText:"callSlider",right:"callSlider",showArrows:"callSlider",vertical:"callSlider","$vuetify.application.left":"onResize","$vuetify.application.right":"onResize","$vuetify.rtl":"onResize"},mounted(){if(typeof ResizeObserver<"u"){const e=new ResizeObserver(()=>{this.onResize()});e.observe(this.$el),this.$on("hook:destroyed",()=>{e.disconnect()})}this.$nextTick(()=>{window.setTimeout(this.callSlider,30)})},methods:{callSlider(){return this.hideSlider||!this.$refs.items||!this.$refs.items.selectedItems.length?(this.slider.width=0,!1):(this.$nextTick(()=>{const e=this.$refs.items.selectedItems[0];if(!e||!e.$el){this.slider.width=0,this.slider.left=0;return}const t=e.$el;this.slider={height:this.vertical?t.scrollHeight:Number(this.sliderSize),left:this.vertical?0:t.offsetLeft,right:this.vertical?0:t.offsetLeft+t.offsetWidth,top:t.offsetTop,width:this.vertical?Number(this.sliderSize):t.scrollWidth}}),!0)},genBar(e,t){const i={style:{height:$(this.height)},props:{activeClass:this.activeClass,centerActive:this.centerActive,dark:this.dark,light:this.light,mandatory:!this.optional,mobileBreakpoint:this.mobileBreakpoint,nextIcon:this.nextIcon,prevIcon:this.prevIcon,showArrows:this.showArrows,value:this.internalValue},on:{"call:slider":this.callSlider,change:s=>{this.internalValue=s}},ref:"items"};return this.setTextColor(this.computedColor,i),this.setBackgroundColor(this.backgroundColor,i),this.$createElement(li,i,[this.genSlider(t),e])},genItems(e,t){return e||(t.length?this.$createElement(oi,{props:{value:this.internalValue},on:{change:i=>{this.internalValue=i}}},t):null)},genSlider(e){return this.hideSlider?null:(e||(e=this.$createElement(hi,{props:{color:this.sliderColor}})),this.$createElement("div",{staticClass:"v-tabs-slider-wrapper",style:this.sliderStyles},[e]))},onResize(){this._isDestroyed||(clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.callSlider,0))},parseNodes(){let e=null,t=null;const i=[],s=[],n=this.$slots.default||[],a=n.length;for(let r=0;r<a;r++){const l=n[r];if(l.componentOptions)switch(l.componentOptions.Ctor.options.name){case"v-tabs-slider":t=l;break;case"v-tabs-items":e=l;break;case"v-tab-item":i.push(l);break;default:s.push(l)}else s.push(l)}return{tab:s,slider:t,items:e,item:i}}},render(e){const{tab:t,slider:i,items:s,item:n}=this.parseNodes();return e("div",{staticClass:"v-tabs",class:this.classes,directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]},[this.genBar(t,i),this.genItems(s,n)])}}),ci=p($e,ie("tabsBar"),k),E=ci.extend().extend().extend({name:"v-tab",props:{ripple:{type:[Boolean,Object],default:!0}},data:()=>({proxyClass:"v-tab--active"}),computed:{classes(){return{"v-tab":!0,...$e.options.computed.classes.call(this),"v-tab--disabled":this.disabled,...this.groupClasses}},value(){let e=this.to||this.href;return e==null?e:(this.$router&&this.to===Object(this.to)&&(e=this.$router.resolve(this.to,this.$route,this.append).href),e.replace("#",""))}},methods:{click(e){if(this.disabled){e.preventDefault();return}this.href&&this.href.indexOf("#")>-1&&e.preventDefault(),e.detail&&this.$el.blur(),this.$emit("click",e),this.to||this.toggle()},toggle(){(!this.isActive||!this.tabsBar.mandatory&&!this.to)&&this.$emit("change")}},render(e){const{tag:t,data:i}=this.generateRouteLink();return i.attrs={...i.attrs,"aria-selected":String(this.isActive),role:"tab",tabindex:this.disabled?-1:0},i.on={...i.on,keydown:s=>{s.keyCode===lt.enter&&this.click(s),this.$emit("keydown",s)}},e(t,i,this.$slots.default)}}),L=pe.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const e=pe.options.methods.genWindowItem.call(this);return e.data.domProps=e.data.domProps||{},e.data.domProps.id=this.id||this.value,e}}});const ui=p(y,ot("treeview")),Me={activatable:Boolean,activeClass:{type:String,default:"v-treeview-node--active"},color:{type:String,default:"primary"},disablePerNode:Boolean,expandIcon:{type:String,default:"$subgroup"},indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},itemChildren:{type:String,default:"children"},itemDisabled:{type:String,default:"disabled"},itemKey:{type:String,default:"id"},itemText:{type:String,default:"name"},loadChildren:Function,loadingIcon:{type:String,default:"$loading"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"},openOnClick:Boolean,rounded:Boolean,selectable:Boolean,selectedColor:{type:String,default:"accent"},shaped:Boolean,transition:Boolean,selectionType:{type:String,default:"leaf",validator:e=>["leaf","independent"].includes(e)}},Ve=ui.extend().extend({name:"v-treeview-node",inject:{treeview:{default:null}},props:{level:Number,item:{type:Object,default:()=>null},parentIsDisabled:Boolean,...Me},data:()=>({hasLoaded:!1,isActive:!1,isIndeterminate:!1,isLoading:!1,isOpen:!1,isSelected:!1}),computed:{disabled(){return o(this.item,this.itemDisabled)||!this.disablePerNode&&this.parentIsDisabled&&this.selectionType==="leaf"},key(){return o(this.item,this.itemKey)},children(){const e=o(this.item,this.itemChildren);return e&&e.filter(t=>!this.treeview.isExcluded(o(t,this.itemKey)))},text(){return o(this.item,this.itemText)},scopedProps(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren(){return!!this.children&&(!!this.children.length||!!this.loadChildren)}},created(){this.treeview.register(this)},beforeDestroy(){this.treeview.unregister(this)},methods:{checkChildren(){return new Promise(e=>{if(!this.children||this.children.length||!this.loadChildren||this.hasLoaded)return e();this.isLoading=!0,e(this.loadChildren(this.item))}).then(()=>{this.isLoading=!1,this.hasLoaded=!0})},open(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel(){const e=[];return this.$scopedSlots.label?e.push(this.$scopedSlots.label(this.scopedProps)):e.push(this.text),this.$createElement("div",{slot:"label",staticClass:"v-treeview-node__label"},e)},genPrependSlot(){return this.$scopedSlots.prepend?this.$createElement("div",{staticClass:"v-treeview-node__prepend"},this.$scopedSlots.prepend(this.scopedProps)):null},genAppendSlot(){return this.$scopedSlots.append?this.$createElement("div",{staticClass:"v-treeview-node__append"},this.$scopedSlots.append(this.scopedProps)):null},genContent(){const e=[this.genPrependSlot(),this.genLabel(),this.genAppendSlot()];return this.$createElement("div",{staticClass:"v-treeview-node__content"},e)},genToggle(){return this.$createElement(u,{staticClass:"v-treeview-node__toggle",class:{"v-treeview-node__toggle--open":this.isOpen,"v-treeview-node__toggle--loading":this.isLoading},slot:"prepend",on:{click:e=>{e.stopPropagation(),!this.isLoading&&this.checkChildren().then(()=>this.open())}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox(){return this.$createElement(u,{staticClass:"v-treeview-node__checkbox",props:{color:this.isSelected||this.isIndeterminate?this.selectedColor:void 0,disabled:this.disabled},on:{click:e=>{e.stopPropagation(),!this.isLoading&&this.checkChildren().then(()=>{this.$nextTick(()=>{this.isSelected=!this.isSelected,this.isIndeterminate=!1,this.treeview.updateSelected(this.key,this.isSelected),this.treeview.emitSelected()})})}}},[this.computedIcon])},genLevel(e){return Q(e).map(()=>this.$createElement("div",{staticClass:"v-treeview-node__level"}))},genNode(){const e=[this.genContent()];return this.selectable&&e.unshift(this.genCheckbox()),this.hasChildren?e.unshift(this.genToggle()):e.unshift(...this.genLevel(1)),e.unshift(...this.genLevel(this.level)),this.$createElement("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-treeview-node__root",class:{[this.activeClass]:this.isActive},on:{click:()=>{this.openOnClick&&this.hasChildren?this.checkChildren().then(this.open):this.activatable&&!this.disabled&&(this.isActive=!this.isActive,this.treeview.updateActive(this.key,this.isActive),this.treeview.emitActive())}}}),e)},genChild(e,t){return this.$createElement(Ve,{key:o(e,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:e,selectable:this.selectable,selectedColor:this.selectedColor,color:this.color,disablePerNode:this.disablePerNode,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemDisabled:this.itemDisabled,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick,rounded:this.rounded,shaped:this.shaped,level:this.level+1,selectionType:this.selectionType,parentIsDisabled:t},scopedSlots:this.$scopedSlots})},genChildrenWrapper(){if(!this.isOpen||!this.children)return null;const e=[this.children.map(t=>this.genChild(t,this.disabled))];return this.$createElement("div",{staticClass:"v-treeview-node__children"},e)},genTransition(){return this.$createElement(ht,[this.genChildrenWrapper()])}},render(e){const t=[this.genNode()];return this.transition?t.push(this.genTransition()):t.push(this.genChildrenWrapper()),e("div",{staticClass:"v-treeview-node",class:{"v-treeview-node--leaf":!this.hasChildren,"v-treeview-node--click":this.openOnClick,"v-treeview-node--disabled":this.disabled,"v-treeview-node--rounded":this.rounded,"v-treeview-node--shaped":this.shaped,"v-treeview-node--selected":this.isSelected},attrs:{"aria-expanded":String(this.isOpen)}},t)}}),pi=Ve;function fi(e,t,i){return o(e,i).toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}function Ee(e,t,i,s,n,a,r){if(e(t,i,n))return!0;const l=o(t,a);if(l){let d=!1;for(let g=0;g<l.length;g++)Ee(e,l[g],i,s,n,a,r)&&(d=!0);if(d)return!0}return r.add(o(t,s)),!1}const mi=p(dt("treeview"),k).extend({name:"v-treeview",provide(){return{treeview:this}},props:{active:{type:Array,default:()=>[]},dense:Boolean,disabled:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:()=>[]},multipleActive:Boolean,open:{type:Array,default:()=>[]},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,value:{type:Array,default:()=>[]},...Me},data:()=>({level:-1,activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}),computed:{excludedItems(){const e=new Set;if(!this.search)return e;for(let t=0;t<this.items.length;t++)Ee(this.filter||fi,this.items[t],this.search,this.itemKey,this.itemText,this.itemChildren,e);return e}},watch:{items:{handler(){const e=Object.keys(this.nodes).map(n=>o(this.nodes[n].item,this.itemKey)),t=this.getKeys(this.items),i=ct(t,e);if(!i.length&&t.length<e.length)return;i.forEach(n=>delete this.nodes[n]);const s=[...this.selectedCache];this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),ee(s,[...this.selectedCache])||this.emitSelected()},deep:!0},active(e){this.handleNodeCacheWatcher(e,this.activeCache,this.updateActive,this.emitActive)},value(e){this.handleNodeCacheWatcher(e,this.selectedCache,this.updateSelected,this.emitSelected)},open(e){this.handleNodeCacheWatcher(e,this.openCache,this.updateOpen,this.emitOpen)}},created(){const e=t=>this.returnObject?o(t,this.itemKey):t;this.buildTree(this.items);for(const t of this.value.map(e))this.updateSelected(t,!0,!0);for(const t of this.active.map(e))this.updateActive(t,!0)},mounted(){(this.$slots.prepend||this.$slots.append)&&we("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach(e=>this.updateOpen(this.returnObject?o(e,this.itemKey):e,!0)),this.emitOpen())},methods:{updateAll(e){Object.keys(this.nodes).forEach(t=>this.updateOpen(o(this.nodes[t].item,this.itemKey),e)),this.emitOpen()},getKeys(e,t=[]){for(let i=0;i<e.length;i++){const s=o(e[i],this.itemKey);t.push(s);const n=o(e[i],this.itemChildren);n&&t.push(...this.getKeys(n))}return t},buildTree(e,t=null){var i;for(let s=0;s<e.length;s++){const n=e[s],a=o(n,this.itemKey),r=(i=o(n,this.itemChildren))!==null&&i!==void 0?i:[],l=this.nodes.hasOwnProperty(a)?this.nodes[a]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},d={vnode:l.vnode,parent:t,children:r.map(g=>o(g,this.itemKey)),item:n};if(this.buildTree(r,a),this.selectionType!=="independent"&&t!==null&&!this.nodes.hasOwnProperty(a)&&this.nodes.hasOwnProperty(t)?d.isSelected=this.nodes[t].isSelected:(d.isSelected=l.isSelected,d.isIndeterminate=l.isIndeterminate),d.isActive=l.isActive,d.isOpen=l.isOpen,this.nodes[a]=d,r.length&&this.selectionType!=="independent"){const{isSelected:g,isIndeterminate:I}=this.calculateState(a,this.nodes);d.isSelected=g,d.isIndeterminate=I}this.nodes[a].isSelected&&(this.selectionType==="independent"||d.children.length===0)&&this.selectedCache.add(a),this.nodes[a].isActive&&this.activeCache.add(a),this.nodes[a].isOpen&&this.openCache.add(a),this.updateVnodeState(a)}},calculateState(e,t){const i=t[e].children,s=i.reduce((r,l)=>(r[0]+=+Boolean(t[l].isSelected),r[1]+=+Boolean(t[l].isIndeterminate),r),[0,0]),n=!!i.length&&s[0]===i.length,a=!n&&(s[0]>0||s[1]>0);return{isSelected:n,isIndeterminate:a}},emitOpen(){this.emitNodeCache("update:open",this.openCache)},emitSelected(){this.emitNodeCache("input",this.selectedCache)},emitActive(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache(e,t){this.$emit(e,this.returnObject?[...t].map(i=>this.nodes[i].item):[...t])},handleNodeCacheWatcher(e,t,i,s){e=this.returnObject?e.map(a=>o(a,this.itemKey)):e;const n=[...t];ee(n,e)||(n.forEach(a=>i(a,!1)),e.forEach(a=>i(a,!0)),s())},getDescendants(e,t=[]){const i=this.nodes[e].children;t.push(...i);for(let s=0;s<i.length;s++)t=this.getDescendants(i[s],t);return t},getParents(e){let t=this.nodes[e].parent;const i=[];for(;t!==null;)i.push(t),t=this.nodes[t].parent;return i},register(e){const t=o(e.item,this.itemKey);this.nodes[t].vnode=e,this.updateVnodeState(t)},unregister(e){const t=o(e.item,this.itemKey);this.nodes[t]&&(this.nodes[t].vnode=null)},isParent(e){return this.nodes[e].children&&this.nodes[e].children.length},updateActive(e,t){if(!this.nodes.hasOwnProperty(e))return;this.multipleActive||this.activeCache.forEach(s=>{this.nodes[s].isActive=!1,this.updateVnodeState(s),this.activeCache.delete(s)});const i=this.nodes[e];!i||(t?this.activeCache.add(e):this.activeCache.delete(e),i.isActive=t,this.updateVnodeState(e))},updateSelected(e,t,i=!1){if(!this.nodes.hasOwnProperty(e))return;const s=new Map;if(this.selectionType!=="independent"){for(const a of this.getDescendants(e))(!o(this.nodes[a].item,this.itemDisabled)||i)&&(this.nodes[a].isSelected=t,this.nodes[a].isIndeterminate=!1,s.set(a,t));const n=this.calculateState(e,this.nodes);this.nodes[e].isSelected=t,this.nodes[e].isIndeterminate=n.isIndeterminate,s.set(e,t);for(const a of this.getParents(e)){const r=this.calculateState(a,this.nodes);this.nodes[a].isSelected=r.isSelected,this.nodes[a].isIndeterminate=r.isIndeterminate,s.set(a,r.isSelected)}}else this.nodes[e].isSelected=t,this.nodes[e].isIndeterminate=!1,s.set(e,t);for(const[n,a]of s.entries())this.updateVnodeState(n),!(this.selectionType==="leaf"&&this.isParent(n))&&(a===!0?this.selectedCache.add(n):this.selectedCache.delete(n))},updateOpen(e,t){if(!this.nodes.hasOwnProperty(e))return;const i=this.nodes[e],s=o(i.item,this.itemChildren);s&&!s.length&&i.vnode&&!i.vnode.hasLoaded?i.vnode.checkChildren().then(()=>this.updateOpen(e,t)):s&&s.length&&(i.isOpen=t,i.isOpen?this.openCache.add(e):this.openCache.delete(e),this.updateVnodeState(e))},updateVnodeState(e){const t=this.nodes[e];t&&t.vnode&&(t.vnode.isSelected=t.isSelected,t.vnode.isIndeterminate=t.isIndeterminate,t.vnode.isActive=t.isActive,t.vnode.isOpen=t.isOpen)},isExcluded(e){return!!this.search&&this.excludedItems.has(e)}},render(e){const t=this.items.length?this.items.filter(i=>!this.isExcluded(o(i,this.itemKey))).map(i=>pi.options.methods.genChild.bind(this)(i,this.disabled||o(i,this.itemDisabled))):this.$slots.default;return e("div",{staticClass:"v-treeview",class:{"v-treeview--hoverable":this.hoverable,"v-treeview--dense":this.dense,...this.themeClasses}},t)}});const gi={components:{},props:{editable:{type:Boolean,default:!0},label:{type:String,required:!0},value:{type:[String,Number],default:""},dataType:{type:String,default:"string"},suggestedValues:{type:Array,default:()=>[]},strict:{type:Boolean,default:!1},rules:{type:Array,default:()=>[]}},data(){return{internalValue:this.value,editing:!1,menu:!1,original:"",moment:R}},computed:{dirty(){return this.original!==this.internalValue},...ut({isDarkMode:"application/isDarkMode"})},watch:{internalValue(e){this.$emit("input",e)}},mounted(){this.original=this.value},methods:{clicked(){!this.editable||(this.editing=!0,this.$nextTick(()=>{this.dataType==="date"||this.dataType==="date-range"?this.menu=!0:this.$refs.field.focus()}))},async update(){this.$refs.field.validate&&this.$refs.field.validate()===!1||(this.label==="Delay"?this.internalValue=Math.floor(this.internalValue):this.label==="Jitter"&&(this.internalValue=Math.floor(this.internalValue*10)/10),await this.$nextTick(),this.editing=!1,this.$emit("update"))},revert(){this.editing=!1,this.internalValue=this.original},async clear(){this.internalValue="",await this.$nextTick(),this.editing=!1,this.$emit("update")},getColClass(){return this.editing===!1&&this.editable===!0?this.isDarkMode?"column-not-editing-dark":"column-not-editing":""}}};var vi=function(){var t=this,i=t._self._c;return i(V,{staticClass:"pb-5"},[i(D,{attrs:{cols:"4"}},[i("span",{staticClass:"text--bold"},[t._v(t._s(t.label))])]),i(D,{class:t.getColClass(),attrs:{cols:"6"},on:{click:t.clicked}},[t.editing&&t.editable?[t.suggestedValues.length>0&&t.strict?i(Ce,{ref:"field",attrs:{items:t.suggestedValues,label:t.label,outlined:"",dense:""},on:{blur:t.update,keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.update.apply(null,arguments)}},model:{value:t.internalValue,callback:function(s){t.internalValue=s},expression:"internalValue"}}):t.dataType==="date"||t.dataType==="date-range"?i(oe,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:n}){return[i(v,t._g(t._b({ref:"field",attrs:{label:"Picker in menu","prepend-icon":"mdi-calendar",readonly:"",clearable:""},on:{"click:clear":t.clear},model:{value:t.internalValue,callback:function(a){t.internalValue=a},expression:"internalValue"}},"v-text-field",n,!1),s))]}}],null,!1,2992141911),model:{value:t.menu,callback:function(s){t.menu=s},expression:"menu"}},[i(ii,{attrs:{outlined:"",dense:"",range:t.dataType==="date-range",min:t.moment().format("YYYY-MM-DD")},on:{blur:t.update,keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.update.apply(null,arguments)}},model:{value:t.internalValue,callback:function(s){t.internalValue=s},expression:"internalValue"}},[i(B),i(m,{attrs:{text:"",color:"primary"},on:{click:function(s){t.menu=!1,t.editing=!1,t.revert()}}},[t._v(" Cancel ")]),i(m,{attrs:{text:"",color:"primary"},on:{click:function(s){t.menu=!1,t.update()}}},[t._v(" OK ")])],1)],1):t.dataType==="string"||t.dataType==="number"?i(v,{ref:"field",staticStyle:{"margin-bottom":"-45px"},attrs:{rules:t.rules,label:t.label,type:t.dataType==="string"?"text":"number",step:t.label==="Jitter"?"0.1":"1",max:t.label==="Jitter"?"1":"",min:"0",outlined:"",dense:"",required:""},on:{blur:t.update,keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.update.apply(null,arguments)}},model:{value:t.internalValue,callback:function(s){t.internalValue=s},expression:"internalValue"}}):t._e()]:i("span",{staticClass:"ml-3"},[t._v(" "+t._s(t.internalValue)+" ")])],2)],1)},yi=[],_i=w(gi,vi,yi,!1,null,null,null,null);const c=_i.exports;const bi={components:{ClickToEdit:c},props:{agent:{type:Object,required:!0},readOnly:{type:Boolean,default:!1}},data(){return{valid:!0,nameLoading:!1,loading:!1,labelPosition:"left",rules:{},form:{},moment:R,workingHoursRules:[e=>/^[0-9]{1,2}:[0-5][0-9]-[0-9]{1,2}:[0-5][0-9]$/.test(e)||"Must be in the format 00:00-24:00"],nameRules:[e=>!!e||"Name is required",e=>!!e&&e.length>2||"Name must be at least 3 characters"],jitterRules:[e=>!Number.isNaN(e)||"Jitter must be a number",e=>e>=0&&e<=1||"Jitter must be between 0 and 1"],delayRules:[e=>!Number.isNaN(e)||"Delay must be a number",e=>e>=0||"Delay must be a positive number"]}},computed:{...pt({listeners:e=>e.listener.listeners}),fields(){return Object.keys(this.agent).map(e=>({name:e,Value:typeof this.agent[e]=="boolean"?`${this.agent[e]}`:this.agent[e]}))},requiredFields(){return this.fields.filter(e=>["name"].indexOf(e.name)<0)}},watch:{fields:{immediate:!0,handler(e){const t=e.reduce((i,s)=>{if(s.name==="kill_date"&&s.Value&&s.Value.length>0){const n=s.Value.split("/"),a=n[2],r=n[0],l=n[1];i[s.name]=`${a}-${r}-${l}`}else i[s.name]=s.Value;return i},{});P.set(this,"form",t)}}},mounted(){this.$store.dispatch("listener/getListeners")},methods:{async updateName(){if(this.agent.name!==this.form.name){try{await this.$store.dispatch("agent/rename",{sessionId:this.agent.session_id,newName:this.form.name})}catch(e){this.$snack.error(`Update agent listener failed: ${e}`);return}this.$snack.info(`Agent ${this.agent.name} name updated`)}},async updateListener(){if(this.agent.listener!==this.form.listener){try{const e=this.listeners.filter(t=>t.name===this.form.listener)[0].id;await ft(this.agent.session_id,e)}catch(e){this.$snack.error(`Update agent listener failed: ${e}`);return}this.$snack.info(`Tasked agent to change listener to: ${this.form.listener}`),await this.$store.dispatch("agent/getAgent",{sessionId:this.form.name})}},async updateKillDate(){let e="";if(this.form.kill_date&&this.form.kill_date.length>0&&(e=R(this.form.kill_date).format("MM/DD/YYYY")),this.agent.kill_date!==e){try{await mt(this.agent.session_id,e)}catch(t){this.$snack.error(`Update agent kill date failed: ${t}`);return}this.$snack.info(`Tasked agent to change kill date to: ${e}`),this.$store.dispatch("agent/getAgent",{sessionId:this.form.name})}},async updateWorkingHours(){if(this.agent.working_hours!==this.form.working_hours){try{await gt(this.agent.session_id,this.form.working_hours)}catch(e){this.$snack.error(`Update agent working hours failed: ${e}`);return}this.$snack.info(`Tasked agent to change working hours to: ${this.form.working_hours}`)}},async updateDelay(){if(this.agent.delay!==this.form.delay){try{await ce(this.agent.session_id,this.form.delay,this.form.jitter)}catch(e){this.$snack.error(`Update agent delay failed: ${e}`);return}this.$snack.info(`Tasked agent to change delay to: ${this.form.delay}`)}},async updateJitter(){if(this.agent.jitter!==this.form.jitter){try{await ce(this.agent.session_id,this.form.delay,this.form.jitter)}catch(e){this.$snack.error(`Update agent delay failed: ${e}`);return}this.$snack.info(`Tasked agent to change jitter to: ${this.form.jitter}`)}},fieldExists(e){return this.fields.filter(t=>t.name===e).length>0}}};var wi=function(){var t=this,i=t._self._c;return i("div",{staticStyle:{padding:"10px"}},[t.agent.session_id?i(W,{ref:"form",staticStyle:{"overflow-y":"hidden"},model:{value:t.valid,callback:function(s){t.valid=s},expression:"valid"}},[i(c,{attrs:{label:"Session ID",editable:!1,value:t.form.session_id}}),i(c,{attrs:{label:"Name",rules:t.nameRules,editable:!t.readOnly},on:{update:t.updateName},model:{value:t.form.name,callback:function(s){t.$set(t.form,"name",s)},expression:"form.name"}}),i(c,{attrs:{label:"External IP",value:t.form.external_ip,editable:!1}}),i(c,{attrs:{label:"Internal IP",value:t.form.internal_ip,editable:!1}}),i(c,{attrs:{label:"Host Name",value:t.form.hostname,editable:!1}}),i(c,{attrs:{label:"Username",value:t.form.username,editable:!1}}),i(c,{attrs:{label:"Listener","data-type":"string","suggested-values":t.listeners.map(s=>s.name),strict:!0,editable:!t.readOnly},on:{update:t.updateListener},model:{value:t.form.listener,callback:function(s){t.$set(t.form,"listener",s)},expression:"form.listener"}}),i(c,{attrs:{label:"Kill Date","data-type":"date",editable:!t.readOnly},on:{update:t.updateKillDate},model:{value:t.form.kill_date,callback:function(s){t.$set(t.form,"kill_date",s)},expression:"form.kill_date"}}),i(c,{attrs:{label:"Working Hours",rules:t.workingHoursRules,editable:!t.readOnly},on:{update:t.updateWorkingHours},model:{value:t.form.working_hours,callback:function(s){t.$set(t.form,"working_hours",s)},expression:"form.working_hours"}}),i(c,{attrs:{label:"Check In Time",value:t.moment(t.form.checkin_time).fromNow(),editable:!1}}),i(c,{attrs:{label:"Last Seen Time",value:t.moment(t.form.lastseen_time).fromNow(),editable:!1}}),i(c,{attrs:{label:"Delay","data-type":"number",rules:t.delayRules,editable:!t.readOnly},on:{update:t.updateDelay},model:{value:t.form.delay,callback:function(s){t.$set(t.form,"delay",s)},expression:"form.delay"}}),i(c,{attrs:{label:"Jitter","data-type":"number",rules:t.jitterRules,editable:!t.readOnly},on:{update:t.updateJitter},model:{value:t.form.jitter,callback:function(s){t.$set(t.form,"jitter",s)},expression:"form.jitter"}}),i(c,{attrs:{label:"Lost Limit","data-type":"number",editable:!1},model:{value:t.form.lost_limit,callback:function(s){t.$set(t.form,"lost_limit",s)},expression:"form.lost_limit"}}),i(c,{attrs:{label:"OS Details",value:t.form.os_details,editable:!1}}),i(c,{attrs:{label:"Architecture",value:t.form.architecture,editable:!1}}),i(c,{attrs:{label:"Process ID",value:t.form.process_id,editable:!1}}),i(c,{attrs:{label:"Process Name",value:t.form.process_name,editable:!1}}),i(c,{attrs:{label:"Language",value:t.form.language,editable:!1}}),i(c,{attrs:{label:"Language Version",value:t.form.language_version,editable:!1}}),i(c,{attrs:{label:"Profile",value:t.form.profile,editable:!1}})],1):t._e()],1)},$i=[],ki=w(bi,wi,$i,!1,null,"eec7d049",null,null);const Le=ki.exports;const xi={name:"AgentCommandHistory",components:{TooltipButton:C},mixins:[St],props:{agent:{type:Object,required:!0},refreshTasks:{type:Boolean,default:!1}},data(){return{tasks:[],currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10,search:"",loading:!1,moment:R,sortBy:"id",sortDesc:!0,refreshInterval:null,expandedTasks:{},debouncedHandleSearch:()=>{},headers:[{text:"Task ID",value:"id",sortable:!0},{text:"Status",value:"status",sortable:!0},{text:"Task Input",value:"input",sortable:!1},{text:"Task Name",value:"task_name",sortable:!1},{text:"User",value:"username",sortable:!1},{text:"Updated At",value:"updated_at",sortable:!0},{text:"Actions",value:"actions",sortable:!1}]}},watch:{refreshTasks(e){e?(this.getTasks(),this.refreshInterval=setInterval(()=>{this.getTasks()},8e3)):clearInterval(this.refreshInterval)},agent:{handler(){this.initialize()}}},async mounted(){this.agent&&this.initialize(),this.debouncedHandleSearch=De(this.handleSearch,500)},beforeDestroy(){clearInterval(this.refreshInterval)},methods:{initialize(){this.getTasks()},truncateMessage(e){return e?e.length>30?`${e.substr(0,30)}...`:e:""},isDownload(e){return e.downloads&&e.downloads.length>0},downloadFile(e){Dt(e.id)},hasOutput(e){return!!e.output},async downloadInput(e){if(e.input){if(!this.expandedTasks[e.id]){const t=await F(this.agent.session_id,e.id);this.expandedTasks[e.id]=t}this.downloadText(this.expandedTasks[e.id].full_input,`${e.agent_id}-${e.id}-input.txt`)}},downloadOutput(e){e.output&&this.downloadText(e.output,`${e.agent_id}-${e.id}-output.txt`)},async copyInput(e){if(e.input){if(!this.expandedTasks[e.id]){const t=await F(this.agent.session_id,e.id);this.expandedTasks[e.id]=t}navigator.clipboard.writeText(this.expandedTasks[e.id].full_input)}},copyOutput(e){e.output&&navigator.clipboard.writeText(e.output)},imageData(e,t){var s;const i=(s=this.expandedTasks[e.id])==null?void 0:s.downloads;if(i){const n=i.find(a=>a.id===t.id);if(n)return n.image}return null},async getImagesForTask(e){var t;if(!this.expandedTasks[e.id]){const i=await F(this.agent.session_id,e.id);this.expandedTasks[e.id]=i}for(let i=0;i<e.downloads.length;i++){const s=e.downloads[i];if(!((t=this.expandedTasks[e.id].downloads[s.id])!=null&&t.image)&&s.filename.match(/[^/]+(jpg|jpeg|png|gif)$/)){const n=await It(s.id);this.expandedTasks[e.id].downloads[i].image=n}}P.set(this.tasks,this.tasks.indexOf(e),e)},async toggleSeeFullInput(e){if(this.expandedTasks[e.id])e.expandedInput=!e.expandedInput;else{const t=await F(this.agent.session_id,e.id);this.expandedTasks[e.id]=t,e.expandedInput=!0}P.set(this.tasks,this.tasks.indexOf(e),e)},async getTasks(){var t;if(!((t=this.agent)!=null&&t.session_id))return;this.loading=!0;const e=await ke(this.agent.session_id,{page:this.currentPage,limit:this.itemsPerPage,sortBy:this.sortBy,sortOrder:this.sortDesc?"desc":"asc",search:this.search});this.currentPage=e.page,this.totalPages=e.total_pages,this.totalItems=e.total,this.tasks=e.records.map(i=>(i.uniqueId=`${i.agent_id}-${i.id}`,this.expandedTasks[i.id]&&(i.expandedInput=!0),i)),this.tasks=e.records,this.loading=!1},handleSearch(){this.getTasks()},handlePageChange(e){this.currentPage=e,this.getTasks()},handleOptionsChange(e){this.currentPage=e.page,this.itemsPerPage=e.itemsPerPage,e.sortBy.length>0?(this.sortBy=e.sortBy[0],this.sortDesc=e.sortDesc[0]):(this.sortBy="id",this.sortDesc=!0),this.getTasks()}}};var Ti=function(){var t=this,i=t._self._c;return i("div",[i("div",{staticStyle:{display:"flex","flix-direction":"row"}},[i(_,{staticClass:"mr-2 pa-2",staticStyle:{width:"300px"},attrs:{elevation:"2",outlined:""}},[i(Bt,{staticClass:"mb-6",attrs:{multiple:""}},[i(Ot,[i(Ft,{attrs:{"expand-icon":"mdi-menu-down"}},[t._v(" Search ")]),i(Mt,[i(v,{attrs:{label:"Search",outlined:"",dense:"",required:""},on:{input:t.debouncedHandleSearch},model:{value:t.search,callback:function(s){t.search=s},expression:"search"}})],1)],1)],1)],1),i(_,{staticStyle:{"flex-grow":"1"},attrs:{elevation:"2",outlined:""}},[i(Ct,{attrs:{length:t.totalPages,"total-visible":10},on:{input:t.handlePageChange},model:{value:t.currentPage,callback:function(s){t.currentPage=s},expression:"currentPage"}}),i(Vt,{attrs:{headers:t.headers,items:t.tasks,"item-key":"uniqueId","sort-by":t.sortBy,"sort-desc":t.sortDesc,"server-items-length":t.totalItems,"footer-props":{"items-per-page-options":[10,25,50,100]},"items-per-page":t.itemsPerPage,loading:t.loading,page:t.currentPage,"show-expand":""},on:{"update:itemsPerPage":function(s){t.itemsPerPage=s},"update:items-per-page":function(s){t.itemsPerPage=s},"update:options":t.handleOptionsChange},scopedSlots:t._u([{key:"expanded-item",fn:function({headers:s,item:n}){return[i("td",{attrs:{colspan:s.length}},[i("div",[i("div",{staticClass:"pt-2"},[i(C,{attrs:{icon:n.expandedInput?"fa-minus":"fa-plus",text:"See Full Input","x-small":""},on:{click:function(a){return t.toggleSeeFullInput(n)}}})],1),i("p",[i("b",[t._v("Task Input:")])]),i("p",{staticClass:"mono",staticStyle:{"max-width":"900px"}},[t._v(" "+t._s(n.expandedInput?t.expandedTasks[n.id].full_input:n.input)+" ")]),i("p",[i("b",[t._v("Task Output:")])]),n.downloads.length>0&&n.downloads.some(a=>a.filename.match(/[^/]+(jpg|jpeg|png|gif)$/))?i("div",[i(m,{attrs:{text:"","x-small":""},on:{click:function(a){return t.getImagesForTask(n)}}},[t._v(" View Images ")]),i("div",t._l(n.downloads,function(a){return i(vt,{key:a.id,attrs:{src:t.imageData(n,a),alt:a.filename,"max-width":700,contain:""}})}),1)],1):t._e(),i("p",{staticClass:"mono",staticStyle:{"max-width":"900px"}},[t._v(" "+t._s(n.output)+" ")])])])]}},{key:"item.status",fn:function({item:s}){return[s.status==="pulled"?i(u,{attrs:{color:"green",small:""}},[t._v(" fa-check-square ")]):s.status==="queued"?i(u,{attrs:{color:"orange",small:""}},[t._v(" fa-clock ")]):t._e()]}},{key:"item.input",fn:function({item:s}){return[i("span",[t._v(t._s(t.truncateMessage(s.input)))])]}},{key:"item.task_name",fn:function({item:s}){return[i("span",[t._v(t._s(s.module_name==null?s.task_name:s.module_name))])]}},{key:"item.updated_at",fn:function({item:s}){return[i(H,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[i("span",t._g({},n),[t._v(t._s(t.moment(s.updated_at).fromNow()))])]}}],null,!0)},[i("span",[t._v(t._s(t.moment(s.updated_at).format("MMM D YYYY, h:mm:ss a")))])])]}},{key:"item.actions",fn:function({item:s}){return[i(oe,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:a}){return[i(m,t._g(t._b({attrs:{text:"",icon:"","x-small":""}},"v-btn",a,!1),n),[i(u,[t._v("fa-ellipsis-v")])],1)]}}],null,!0)},[i(xe,{staticClass:"ml-2 mr-2"},[i(A,{key:"downloadInput",attrs:{link:""},on:{click:function(n){return t.downloadInput(s)}}},[i(O,[i(u,[t._v("fa-download")]),t._v(" Download Input ")],1)],1),t.hasOutput(s)?i(A,{key:"downloadOutput",attrs:{link:""},on:{click:function(n){return t.downloadOutput(s)}}},[i(O,[i(u,[t._v("fa-download")]),t._v(" Download Output ")],1)],1):t._e(),i(A,{key:"clipboardInput",attrs:{link:""},on:{click:function(n){return t.copyInput(s)}}},[i(O,[i(u,[t._v("fa-paperclip")]),t._v(" Copy Input to Clipboard ")],1)],1),t.hasOutput(s)?i(A,{key:"clipboardOutput",attrs:{link:""},on:{click:function(n){return t.copyOutput(s)}}},[i(O,[i(u,[t._v("fa-paperclip")]),t._v(" Copy Output to Clipboard ")],1)],1):t._e(),i(B),t._l(s.downloads,function(n){return i(A,{key:"download-"+n.id,attrs:{link:""},on:{click:function(a){return t.downloadFile(n)}}},[i(O,[i(u,[t._v("fa-download")]),t._v(" Download "+t._s(n.filename)+" ")],1)],1)})],2)],1)]}}])})],1)],1)])},Ci=[],Si=w(xi,Ti,Ci,!1,null,null,null,null);const Ne=Si.exports,Di={components:{AgentExecuteModule:q},props:{value:Boolean,loading:{type:Boolean,default:!1},agent:{type:String,required:!0},moduleName:{type:String,required:!0},moduleOptionDefaults:{type:Object,default:()=>{}}},data(){return{}},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{async submit(){!this.$refs.executeform.validate()||(this.$refs.executeform.create(),this.show=!1)}}};var Ii=function(){var t=this,i=t._self._c;return i(ne,{ref:"downloadDialog",attrs:{"max-width":"800px"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[i(_,[i(ae,[i("span",{staticClass:"headline"})]),i(j,[t.show?i(q,{ref:"executeform",attrs:{agents:[t.agent],"module-name":t.moduleName,"module-option-defaults":t.moduleOptionDefaults,"show-submit":!1},on:{submitted:t.submit}}):t._e()],1),i(re,[i(B),i(m,{attrs:{color:"error",text:""},on:{click:function(s){s.stopPropagation(),t.show=!1}}},[t._v(" Close ")]),i(m,{attrs:{color:"primary",loading:t.loading},on:{click:t.submit}},[t._v(" Submit ")])],1)],1)],1)},Ai=[],Pi=w(Di,Ii,Ai,!1,null,null,null,null);const Ye=Pi.exports;async function ye(e=1e3){return new Promise(t=>setTimeout(t,e))}const Bi={components:{ExecuteModuleDialog:Ye},props:{agent:{type:Object,required:!0},readOnly:{type:Boolean,default:!1}},data(){return{files:{html:"mdi-language-html5",js:"mdi-nodejs",json:"mdi-json",md:"mdi-markdown",pdf:"mdi-file-pdf",png:"mdi-file-image",txt:"mdi-file-document-outline",xls:"mdi-file-excel",xlsx:"mdi-file-excel",ppt:"mdi-file-powerpoint",pptx:"mdi-file-powerpoint",jpg:"mdi-file-image",jpeg:"mdi-file-image",gif:"mdi-file-image",doc:"mdi-file-word",docx:"mdi-file-word"},tree:[],open:[],showMenu:!1,menuPosition:{x:0,y:0},selected:{},force:{},currentlyLoading:{},loading:!1,debouncedLoadChildren:null,executeDialog:!1,moduleName:"",moduleOptionDefaults:{}}},computed:{menuItems(){return[{id:"close",name:"Close",fileOption:!1,folderOption:!0},{id:"open",name:"Open",fileOption:!1,folderOption:!0},{id:"refresh",name:"Refresh",fileOption:!1,folderOption:!0},{id:"download",name:"Download to Empire",fileOption:!0,folderOption:!1},{id:"zip",name:"Zip Folder",fileOption:!1,folderOption:!0},{id:"upload",name:"Upload",folderOption:!0,fileOption:!1}].filter(e=>this.selected.file?e.fileOption===!0:e.folderOption===!0).filter(e=>!(e.id==="zip"&&this.agent.language!=="powershell")).filter(e=>{if(e.id==="open"){if(this.open.find(t=>t===this.selected.id))return!1}else if((e.id==="close"||e.id==="refresh")&&!this.open.find(t=>t===this.selected.id))return!1;return!0})}},watch:{agent:{handler(){this.initialize()}}},async mounted(){this.agent&&this.initialize()},methods:{async initialize(){this.debouncedLoadChildren=De(this.loadChildren,500,{leading:!0}),this.loading=!0;try{const e=await K(this.agent.session_id,"/");e.sort(this.sortFiles),this.tree=e.map(t=>this.transform(t))}catch{if(this.readOnly){this.loading=!1;return}const t=await this.scrapeDirectory("/");let i=0,s=0;for(;i<10;){if(await ye(6e3),await this.checkTaskComplete(t.id)){s=!0;break}i++}s||this.$snack.error("Agent didn't respond in time. Please try again later.");const n=await K(this.agent.session_id,"/");n.sort(this.sortFiles),this.tree=n.map(a=>this.transform(a))}this.loading=!1},async clickAction(e){if(e==="open")this.open.push(this.selected.id);else if(e==="close")this.open.splice(this.open.findIndex(t=>t===this.selected.id),1);else if(e==="refresh"){this.selected.children=[];const t=this.$refs.treeview.nodes[this.selected.id];this.open.splice(this.open.findIndex(i=>i===this.selected.id),1),await P.nextTick(),t.vnode.hasLoaded=!1,this.force[this.selected.id]=!0,await P.nextTick(),this.open.push(this.selected.id)}else e==="download"?(Te(this.agent.session_id,this.selected.path),this.$snack.success(`Tasked ${this.agent.session_id} for download ${this.selected.path}`)):e==="zip"?this.prepareZip():e==="upload"&&this.$emit("openUploadDialog",{pathToFile:this.selected.path})},prepareZip(){const e={agent:this.agent.session_id,Folder:this.selected.path,ZipFileName:`${this.selected.path}\\${this.selected.path.split("\\").pop()}.zip`};this.moduleName="powershell/management/zipfolder",this.moduleOptionDefaults=e,this.executeDialog=!0},show(e,t){t.preventDefault(),this.showMenu=!1,this.menuPosition.x=t.clientX,this.menuPosition.y=t.clientY,this.selected=e,this.$nextTick(()=>{this.showMenu=!0})},transform(e){return{file:e.is_file===!0?e.name.split(".").pop():!1,...e,children:e.is_file===!1?[]:void 0}},async loadChildren(e,{stopTrying:t}={}){if(this.currentlyLoading[e.id])return Promise.resolve();this.currentlyLoading[e.id]=!0;const i=await K(this.agent.session_id,e.id);if(i.sort(this.sortFiles),!this.force[e.id]&&i.length>0)return this.removeFromCurrentlyLoading(e.id),e.children=i.map(s=>this.transform(s)),Promise.resolve();if(!t&&!this.readOnly){console.log(t,this.readOnly),this.$snack.success(`Attempting to retrieve directory: ${e.path} with id ${e.id}`);const s=await this.scrapeDirectory(e.path);let n=0,a=!1;for(;n<10;){if(await ye(6e3),await this.checkTaskComplete(s.id)){console.log("task complete",s.id),a=!0;break}n++}return a||this.$snack.error("Agent didn't respond in time. Please try again later."),this.removeFromForce(e.id),this.removeFromCurrentlyLoading(e.id),Promise.resolve(this.loadChildren(e,{stopTrying:!0}))}return this.removeFromForce(e.id),this.removeFromCurrentlyLoading(e.id),Promise.resolve()},removeFromForce(e){this.force[e]&&delete this.force[e]},removeFromCurrentlyLoading(e){this.currentlyLoading[e]&&delete this.currentlyLoading[e]},async scrapeDirectory(e){return yt(this.agent.session_id,e)},async checkTaskComplete(e){try{return!!(await F(this.agent.session_id,e)).output}catch{return!1}},sortFiles(e,t){const i=e.name.toLowerCase(),s=t.name.toLowerCase();return i<s?-1:i>s?1:0}}};var Oi=function(){var t=this,i=t._self._c;return t.agent.language==="ironpython"?i("div",[i(Ie,{attrs:{prominent:"",type:"error"}},[i(V,{attrs:{align:"center"}},[i(D,{staticClass:"grow"},[t._v(" The File Browser is not yet implemented for this agent language. ")])],1)],1)],1):i("div",[i(Ye,{attrs:{agent:t.agent.session_id,"module-name":t.moduleName,"module-option-defaults":t.moduleOptionDefaults},model:{value:t.executeDialog,callback:function(s){t.executeDialog=s},expression:"executeDialog"}}),t.loading?i(u,{staticClass:"fa-3x fas fa-spinner fa-spin",staticStyle:{width:"50px"}}):t._e(),i(mi,{ref:"treeview",attrs:{dense:"",hoverable:"","open-on-click":"","item-key":"id","load-children":t.debouncedLoadChildren,open:t.open,items:t.tree},on:{"update:open":function(s){t.open=s}},scopedSlots:t._u([{key:"label",fn:function({item:s,open:n}){return[i(m,{staticClass:"text-left",staticStyle:{"margin-left":"-15px",width:"100%"},attrs:{text:""},on:{contextmenu:function(a){return t.show(s,a)}}},[i("div",{staticStyle:{display:"flex","justify-content":"fle -start"}},[s.file?i(u,[t._v(" "+t._s(t.files[s.file]||"mdi-file")+" ")]):i(u,[t._v(" "+t._s(n?"mdi-folder-open":"mdi-folder")+" ")]),i("span",{staticClass:"ml-2"},[t._v(t._s(s.name))])],1)])]}}])}),i(oe,{attrs:{"position-x":t.menuPosition.x,"position-y":t.menuPosition.y,"close-on-content-click":"",absolute:"","offset-y":""},model:{value:t.showMenu,callback:function(s){t.showMenu=s},expression:"showMenu"}},[i(xe,t._l(t.menuItems,function(s){return i(A,{key:s.id,on:{click:function(n){return t.clickAction(s.id)}}},[i(_t,[t._v(t._s(s.name))])],1)}),1)],1)],1)},Fi=[],Mi=w(Bi,Oi,Fi,!1,null,null,null,null);const Re=Mi.exports;const Vi={props:{agent:{type:Object,required:!0}},data(){return{loading:!1,form:{command:"",literal:!1},commands:[],tooltipText:"This will ensure that aliased commands such as whoami or ps do not execute the built-in agent aliases."}},methods:{async submit(){this.form.command.length<1||(this.loading=!0,this.form.command.trim()==="sysinfo"?await bt(this.agent.session_id):await wt(this.agent.session_id,this.form.command,this.form.literal),this.form.command="",this.loading=!1,this.$snack.success(`Shell Command queued for ${this.agent.name}`))}}};var Ei=function(){var t=this,i=t._self._c;return i("div",{staticStyle:{padding:"10px"}},[i(W,{ref:"form",staticClass:"form",nativeOn:{submit:function(s){return s.preventDefault(),t.submit.apply(null,arguments)}}},[i(le,[i(V,[i(D,{attrs:{cols:"8"}},[i("div",{staticStyle:{display:"flex"}},[i($t,{staticClass:"pr-2",attrs:{label:"Literal"},model:{value:t.form.literal,callback:function(s){t.$set(t.form,"literal",s)},expression:"form.literal"}}),i(H,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[i(u,t._g({staticClass:"pr-2",attrs:{small:""}},s),[t._v(" fa-question-circle ")])]}}])},[i("p",[t._v(t._s(t.tooltipText))])]),i(v,{attrs:{dense:"",outlined:"",label:"Shell Command"},model:{value:t.form.command,callback:function(s){t.$set(t.form,"command",s)},expression:"form.command"}})],1)]),i(D,{attrs:{cols:"4",md:"4"}},[i(m,{attrs:{color:"primary",loading:t.loading,type:"submit"}},[t._v(" Run ")])],1)],1)],1)],1)],1)},Li=[],Ni=w(Vi,Ei,Li,!1,null,"bac1b187",null,null);const ze=Ni.exports;const Yi={name:"TooltipButtonToggle",props:{value:{type:Boolean,default:!1},icon:{type:String,required:!0},buttonText:{type:String,default:""},text:{type:String,required:!0}},data(){return{internalValue:!1}},watch:{value:{immediate:!0,handler(e){this.internalValue=e}},internalValue:{handler(e){this.$emit("input",e)}}}};var Ri=function(){var t=this,i=t._self._c;return i(H,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[i(Lt,{staticClass:"mr-5",model:{value:t.internalValue,callback:function(n){t.internalValue=n},expression:"internalValue"}},[i(m,t._g({attrs:{value:!0}},s),[i(u,{attrs:{left:""}},[t._v(" "+t._s(t.icon)+" ")]),i("span",[t._v(t._s(t.buttonText))])],1)],1)]}}])},[i("span",[t._v(t._s(t.text))])])},zi=[],Wi=w(Yi,Ri,zi,!1,null,null,null,null);const We=Wi.exports,ji={props:{value:Boolean,loading:{type:Boolean,default:!1}},data(){return{pathToFile:"",rules:{pathToFile:[e=>!!e||"PathToFile is required"]}}},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}}},watch:{value(e){e===!1&&this.$refs.form.reset()}},methods:{async submit(){!this.$refs.form.validate()||this.$emit("submit",{pathToFile:this.pathToFile})}}};var Hi=function(){var t=this,i=t._self._c;return i(ne,{ref:"downloadDialog",attrs:{"max-width":"500px"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[i(_,[i(ae,[i("span",{staticClass:"headline"},[t._v("Download")])]),i(j,[i(W,{ref:"form",on:{submit:function(s){s.preventDefault()}}},[i(le,[i(V,[i(D,{attrs:{cols:"12"}},[i(v,{attrs:{label:"path/to/file",rules:t.rules.pathToFile,outlined:"",dense:"",required:""},model:{value:t.pathToFile,callback:function(s){t.pathToFile=s},expression:"pathToFile"}})],1)],1)],1)],1)],1),i(re,[i(B),i(m,{attrs:{color:"blue darken-1",text:""},on:{click:function(s){s.stopPropagation(),t.show=!1}}},[t._v(" Close ")]),i(m,{attrs:{color:"blue darken-1",text:"",loading:t.loading},on:{click:t.submit}},[t._v(" Save ")])],1)],1)],1)},qi=[],Ui=w(ji,Hi,qi,!1,null,null,null,null);const je=Ui.exports,N=1048576,Gi={props:{value:Boolean,language:{type:String,default:""},loading:{type:Boolean,default:!1},pathToFile:{type:String,default:""}},data(){return{uploadType:"uploadnew",isLoading:!1,descriptionLimit:80,selectedDownload:{},search:null,entries:[],internalPathToFile:this.pathToFile,file:null,rules:{pathToFile:[e=>!!e||"PathToFile is required"],fileInput:[e=>!!e||"File required",e=>!!e&&e.size<N||`Maximum size of ${Math.floor(N/1e6)} MiB.`],selectedDownload:[e=>!!e||"File required",e=>!!e&&e.size<N||`Maximum size of ${Math.floor(N/1e6)} MiB.`]}}},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}},fileName(){return this.file?this.file.name:""},items(){return this.entries.map(e=>{const t=e.location.length>this.descriptionLimit?`(${this.formatBytes(e.size)}) ${e.location.slice(0,this.descriptionLimit)}...`:`(${this.formatBytes(e.size)}) ${e.location}`;return{...e,description:t}})}},watch:{pathToFile(e){this.internalPathToFile=e},value(e){e===!1&&this.$refs.form.reset()},file(e){e&&(this.language==="python"?!this.internalPathToFile||this.internalPathToFile.length===0?this.internalPathToFile=`/tmp/${e.name}`:this.internalPathToFile.endsWith("/")?this.internalPathToFile+=e.name:this.internalPathToFile=`/tmp/${e.name}`:this.language==="powershell"&&(!this.internalPathToFile||this.internalPathToFile.length===0?this.internalPathToFile=`C:\\tmp\\${e.name}`:this.internalPathToFile.endsWith("/")||this.internalPathToFile.endsWith("\\")?this.internalPathToFile+=e.name:this.internalPathToFile=`C:\\tmp\\${e.name}`))},selectedDownload(e){if(e){const{filename:t}=e;this.language==="python"?!this.internalPathToFile||this.internalPathToFile.length===0?this.internalPathToFile=`/tmp/${t}`:this.internalPathToFile.endsWith("/")?this.internalPathToFile+=t:this.internalPathToFile=`/tmp/${t}`:this.language==="powershell"&&(!this.internalPathToFile||this.internalPathToFile.length===0?this.internalPathToFile=`C:\\tmp\\${t}`:this.internalPathToFile.endsWith("/")||this.internalPathToFile.endsWith("\\")?this.internalPathToFile+=t:this.internalPathToFile=`C:\\tmp\\${t}`)}},search(){this.items.length>0||this.isLoading||(this.isLoading=!0,At({page:1,limit:-1}).then(e=>{const{total:t,records:i}=e;this.count=t,this.entries=i}).catch(e=>{console.log(e)}).finally(()=>{this.isLoading=!1}))}},methods:{async submit(){if(!this.$refs.form.validate())return;let e=null;if(this.uploadType==="uploadnew"){const t=new FormData;t.append("file",this.file),e=(await Pt(t)).data.id}else e=this.selectedDownload.id;this.$emit("submit",{file:e,pathToFile:this.internalPathToFile})},formatBytes(e,t){if(e===0)return"0 Bytes";const i=1024,s=t||2,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(i));return`${parseFloat((e/i**a).toFixed(s))} ${n[a]}`}}};var Ki=function(){var t=this,i=t._self._c;return i(ne,{ref:"uploadDialog",attrs:{"max-width":"750px"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[i(_,[i(ae,[i("span",{staticClass:"headline"},[t._v("Upload")])]),i(j,[i(W,{ref:"form",attrs:{"on-submit":"return false;"},on:{submit:function(s){s.preventDefault()}}},[i(le,[i(V,[i(D,{attrs:{cols:"12"}},[i(ai,{attrs:{mandatory:"",row:""},model:{value:t.uploadType,callback:function(s){t.uploadType=s},expression:"uploadType"}},[i(ge,{attrs:{value:"uploadnew",label:"Upload New File"}}),i(ge,{attrs:{value:"useexisting",label:"Use Existing File"}})],1),t.uploadType==="uploadnew"?i(si,{ref:"fileInput",attrs:{accept:"*/*",rules:t.rules.fileInput},model:{value:t.file,callback:function(s){t.file=s},expression:"file"}}):i(Ce,{attrs:{items:t.items,loading:t.isLoading,"search-input":t.search,rules:t.rules.selectedDownload,"hide-no-data":"","hide-selected":"","cache-items":"","item-text":"description","item-value":"filename",label:"Server Files",placeholder:"Start typing to Search","prepend-icon":"mdi-database-search","return-object":"",outlined:"",dense:""},on:{"update:searchInput":function(s){t.search=s},"update:search-input":function(s){t.search=s}},model:{value:t.selectedDownload,callback:function(s){t.selectedDownload=s},expression:"selectedDownload"}}),i(v,{attrs:{label:"path/to/file (On the agent's machine)",rules:t.rules.pathToFile,outlined:"",dense:"",required:""},model:{value:t.internalPathToFile,callback:function(s){t.internalPathToFile=s},expression:"internalPathToFile"}})],1)],1)],1)],1)],1),i(re,[i(B),i(m,{attrs:{color:"blue darken-1",text:""},on:{click:function(s){s.stopPropagation(),t.show=!1}}},[t._v(" Close ")]),i(m,{attrs:{color:"blue darken-1",text:"",loading:t.loading},on:{click:t.submit}},[t._v(" Save ")])],1)],1)],1)},Zi=[],Xi=w(Gi,Ki,Zi,!1,null,null,null,null);const He=Xi.exports;const Ji={name:"AgentEdit",components:{AgentForm:Le,AgentInteract:ze,AgentExecuteModule:q,AgentFileBrowser:Re,AgentCommandHistory:Ne,AgentUploadDialog:He,AgentDownloadDialog:je,TooltipButton:C,TooltipButtonToggle:We,ErrorStateAlert:Ae},data(){return{agent:{},nameLoading:!1,uploadLoading:!1,downloadLoading:!1,nameDialog:!1,uploadDialog:!1,downloadDialog:!1,interval:null,initialized:!0,errorState:!1,paneSize:100,rightPaneInitialized:!1,pathToFile:"",isRefreshTasks:!1}},computed:{breads(){return[{text:"Agents",disabled:this.isChild,to:"/agents",exact:!0},{text:this.breadcrumbName,disabled:!0,to:"/agent-edit"}]},archived(){return this.agent.archived},breadcrumbName(){return this.agent.name||this.id},id(){return this.$route.params.id},isChild(){return!!this.$route.query.hideSideBar},hideSideBar(){return this.$route.query.hideSideBar},tab:{set(e){this.$router.replace({query:{...this.$route.query,tab:e}})},get(){return this.$route.query.tab||"interact"}}},watch:{id(e){e&&this.getAgent(e)},paneSize(e){this.rightPaneInitialized||e<99&&(this.rightPaneInitialized=!0)}},mounted(){this.getAgent(this.$route.params.id)},methods:{toggleCollapsePane(){this.paneSize>95?this.paneSize=50:this.paneSize=100},splitPaneHeight(){return`height: calc(96vh - 104px ${this.isChild?"":"- 36px"})`},popout(){window.open(`${window.location.href}/?hideSideBar=true`,"popup","width=600,height=600"),this.$router.push({name:"agents"})},getAgent(e){kt(e).then(t=>{this.agent=t}).catch(()=>{this.errorState=!0})},async killAgent(){await this.$root.$confirm("Kill Agent",`Do you want to kill agent ${this.agent.name}?`,{color:"red"})&&(this.$store.dispatch("agent/killAgent",{sessionId:this.agent.session_id}),this.$snack.success(`Agent ${this.agent.name} tasked to run TASK_EXIT.`),this.$router.push({name:"agents"}))},async clearQueue(){const t=(await ke(this.agent.session_id,{limit:-1,page:1,status:"queued"})).records.map(i=>i.id);if(t.length===0){this.$snack.info("No queued tasks to clear.");return}await this.$root.$confirm("",`Do you want to clear ${t.length} queued tasks?`,{color:"red"})&&(this.$store.dispatch("agent/clearQueue",{name:this.agent.session_id,tasks:t}),this.$snack.success(`Clearing queued tasks for Agent ${this.agent.session_id}.`))},openUploadDialogPrefilled({pathToFile:e}){this.uploadDialog=!0,this.pathToFile=e},async doUpload({file:e,pathToFile:t}){if(!(this.uploadLoading||e==null||t==null||t.length<1)){this.uploadLoading=!0;try{await xt(this.agent.session_id,e,t),this.$snack.success(`Tasked agent ${this.agent.name} to upload file to ${t}`)}catch(i){this.$snack.error(`Error: ${i}`)}this.uploadLoading=!1,this.uploadDialog=!1}},async doDownload({pathToFile:e}){if(!(this.downloadLoading||e==null||e.length<1)){this.downloadLoading=!0;try{await Te(this.agent.session_id,e),this.$snack.success(`Tasked agent ${this.agent.name} to downloaded file ${e}`)}catch(t){this.$snack.error(`Error: ${t}`)}this.downloadLoading=!1,this.downloadDialog=!1}},scrollResults(){}}};var Qi=function(){var t=this,i=t._self._c;return i("div",[i("div",[i("portal",{attrs:{to:"app-bar-extension"}},[i("div",{staticStyle:{display:"flex","flex-direction":"row",width:"100%"}},[i(ve,{staticClass:"scrollable-pane",attrs:{"align-with-title":""},model:{value:t.tab,callback:function(s){t.tab=s},expression:"tab"}},[i(E,{key:"interact",attrs:{href:"#interact"}},[t._v(" Interact ")]),i(E,{key:"file-browser",attrs:{href:"#file-browser"}},[t._v(" File Browser ")]),i(E,{key:"tasks",attrs:{href:"#tasks"}},[t._v(" Tasks ")]),i(E,{key:"view",attrs:{href:"#view"}},[t._v(" View ")])],1),i("div",{staticStyle:{display:"flex","flex-direction":"row"}},[t._e()],1)],1)]),i("portal",{attrs:{to:"app-bar"}},[i("div",{staticClass:"v-toolbar__content",staticStyle:{width:"100%"}},[i(Et,{attrs:{items:t.breads}}),t.agent.high_integrity===1?i(H,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[i(u,t._g({attrs:{small:""}},s),[t._v(" fa-user-cog ")])]}}],null,!1,1636569802)},[i("span",[t._v("Elevated Process")])]):t._e(),t.initialized&&t.archived?i(Se,[t._v(" Archived ")]):t._e(),i(B),t.errorState?t._e():i("div",{staticClass:"pt-2",staticStyle:{display:"flex","flex-direction":"row","align-items":"center"}},[i(He,{attrs:{language:t.agent.language,loading:t.uploadLoading,"path-to-file":t.pathToFile},on:{submit:t.doUpload},model:{value:t.uploadDialog,callback:function(s){t.uploadDialog=s},expression:"uploadDialog"}}),i(je,{attrs:{loading:t.downloadLoading},on:{submit:t.doDownload},model:{value:t.downloadDialog,callback:function(s){t.downloadDialog=s},expression:"downloadDialog"}}),t.initialized&&!t.archived?i(We,{attrs:{icon:"fa-redo","button-text":t.isRefreshTasks?"On":"Off",text:"Auto-refresh tasks"},model:{value:t.isRefreshTasks,callback:function(s){t.isRefreshTasks=s},expression:"isRefreshTasks"}}):t._e(),t.initialized&&!t.archived?i(C,{attrs:{icon:"fa-calendar-times",text:"Clear Queued Tasks"},on:{click:t.clearQueue}}):t._e(),t.initialized&&!t.archived?i(C,{attrs:{icon:"fa-upload",text:"Upload"},on:{click:function(s){t.uploadDialog=!0}}}):t._e(),t.initialized&&!t.archived?i(C,{attrs:{icon:"fa-download",text:"Download"},on:{click:function(s){t.downloadDialog=!0}}}):t._e(),t.hideSideBar?t._e():i(C,{attrs:{icon:"fa-external-link-alt",text:"Popout"},on:{click:t.popout}}),t.initialized&&!t.archived?i(C,{attrs:{icon:"fa-trash-alt",text:"Kill Agent",color:"error"},on:{click:t.killAgent}}):t._e()],1)],1)]),t.errorState?i(Ae,{attrs:{"resource-id":t.id,"resource-type":"agent"}}):t._e(),t.errorState?t._e():i("div",{style:t.splitPaneHeight()},[i(ve,{staticClass:"scrollable-pane",attrs:{"fixed-tabs":""},model:{value:t.tab,callback:function(s){t.tab=s},expression:"tab"}},[i(L,{key:"interact",attrs:{value:"interact",transition:!1,"reverse-transition":!1}},[t.initialized&&!t.archived?i(_,{staticClass:"scrollable-pane",attrs:{flat:""}},[i(ze,{attrs:{agent:t.agent}}),i(Tt),i("h4",{staticClass:"pl-4 pt-2"},[t._v(" Execute Module ")]),i(q,{attrs:{agents:[t.agent.session_id]}})],1):t.initialized&&t.archived?i(_,{staticClass:"scrollable-pane",attrs:{flat:""}},[i(j,[i(Ie,{attrs:{type:"error",icon:"fa-exclamation-triangle",value:!0}},[t._v(" This agent is archived. ")])],1)],1):t._e()],1),i(L,{key:"browser",attrs:{value:"file-browser",transition:!1,"reverse-transition":!1}},[i(_,{staticClass:"scrollable-pane",attrs:{flat:""}},[i(Re,{attrs:{agent:t.agent,"read-only":t.initialized&&t.archived},on:{openUploadDialog:t.openUploadDialogPrefilled}})],1)],1),i(L,{key:"tasks",attrs:{value:"tasks",transition:!1,"reverse-transition":!1}},[i(_,{staticClass:"scrollable-pane",attrs:{flat:""}},[i(Ne,{attrs:{agent:t.agent,"refresh-tasks":t.isRefreshTasks}})],1)],1),i(L,{key:"view",attrs:{value:"view",transition:!1,"reverse-transition":!1}},[i(_,{staticClass:"scrollable-pane",attrs:{flat:""}},[i(Le,{attrs:{"read-only":t.initialized&&t.archived,agent:t.agent}})],1)],1)],1)],1)],1)])},es=[],ts=w(Ji,Qi,es,!1,null,null,null,null);const $s=ts.exports;export{$s as default};
